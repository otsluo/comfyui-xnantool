# v0.0.3 - 媒体处理与实用工具增强版

## 📅 发布日期
2025年10月23日

## 🎯 版本亮点

### 🎬 媒体处理功能增强
- **视频转GIF节点**: 新增视频转GIF功能，支持自定义持续时间、帧率、缩放因子等参数
- **视频转音频节点**: 支持从视频中提取音频，支持MP3、WAV、AAC、FLAC等多种音频格式

### 🛠️ 实用工具扩展
- **长方形转换器节点**: 可将正方形图像转换为长方形图像，支持左右和上下方向扩展
- **切换值节点**: 支持在两个值之间动态切换，适用于多种数据类型
- **创建图像节点**: 可创建指定尺寸和颜色的图像，便于测试和占位

## 📝 详细更新内容

### 新增节点

#### 🎬 视频转GIF节点 (VideoToGifNode)
- **位置**: `XnanTool/媒体处理`
- **功能**: 将视频文件转换为GIF动画
- **输入参数**:
  - 视频文件: 选择要转换的视频文件
  - 持续时间: GIF的持续时间（0.1-60.0秒）
  - 帧率: GIF的帧率（1-30 FPS）
  - 缩放因子: 图像缩放比例（0.1-1.0）
  - 优化GIF: 是否优化GIF文件大小
  - 调色板大小: GIF的颜色数量（2-256）
  - 质量等级: GIF质量等级（1=低，2=中，3=高）
  - 输出文件名（可选）: 自定义GIF文件名
- **输出**: GIF文件路径

#### 🎵 视频转音频节点 (VideoToAudioNode)
- **位置**: `XnanTool/媒体处理`
- **功能**: 从视频文件中提取音频轨道并保存为音频文件
- **输入参数**:
  - 视频文件: 选择要提取音频的视频文件
  - 输出格式: 选择输出音频文件的格式（mp3, wav, aac, flac）
  - 音频质量: 选择输出音频的质量（high, medium, low）
  - 输出文件名（可选）: 自定义输出文件名
- **输出**: 音频文件路径和状态信息

#### 🟦 长方形转换器节点 (RectangleConverter)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 将正方形图像转换为长方形图像，支持左右和上下的扩展
- **输入参数**:
  - 图像: 输入图像
  - 扩展方向: 选择扩展方向（左右扩展或上下扩展）
  - 目标长度: 指定长边的目标长度
  - 边距: 在图像周围添加的额外边距
  - 填充颜色（可选）: 填充区域的颜色，支持十六进制颜色代码或'transparent'
- **输出**: 转换后的图像、宽度、高度

#### 🔀 切换值节点 (ToggleValueNode)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 可以在两个值之间切换的节点，支持多种数据类型输入
- **输入参数**:
  - 输入值: 布尔值，决定选择哪个输入值
  - 值A: 第一个可选值
  - 值B: 第二个可选值
- **输出**: 原始类型输出、字符串输出、整数输出、浮点输出

#### 🖼️ 创建图像节点 (CreateImageNode)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 创建指定尺寸和颜色的图片
- **输入参数**:
  - 宽度: 图像宽度（1-8192像素）
  - 高度: 图像高度（1-8192像素）
  - 颜色: 图像颜色（十六进制颜色代码）
- **输出**: 创建的图像

### 优化与改进

- ✅ 优化部分节点的用户界面和参数描述，提升用户体验
- ✅ 修复已知问题，提升插件稳定性
- ✅ 完善节点文档说明，提供更多使用示例

## ⚠️ 注意事项

1. 使用视频处理节点前请确保已安装ffmpeg
2. 部分节点可能需要较大的内存资源，请根据硬件配置合理使用
3. 如遇到问题，请查看ComfyUI日志获取详细错误信息

## 📞 反馈与支持

如有任何问题或建议，欢迎通过以下方式联系我们：
- 提交GitHub Issues
- 联系项目维护者