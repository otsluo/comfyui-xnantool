{"id":"8c80c21b-eff9-40c9-8843-2c9368586d33","revision":0,"last_node_id":1003,"last_link_id":799,"nodes":[{"id":358,"type":"SamModelLoader","pos":[-3465.10009765625,-523.9766845703125],"size":[302.8999938964844,126],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"模型类型","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"自动下载","name":"auto_download","type":"BOOLEAN","widget":{"name":"auto_download"},"link":null},{"localized_name":"使用缓存","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoader"},"widgets_values":["vit_b",true,true]},{"id":359,"type":"SamModelLoaderV2","pos":[-3463.5478515625,-331.242919921875],"size":[333.2378845214844,102],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"model_file","name":"model_file","type":"COMBO","widget":{"name":"model_file"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoaderV2"},"widgets_values":["sam_vit_b_01ec64.pth",true]},{"id":360,"type":"SamModelLoaderCustomPath","pos":[-3456.6435546875,-166.295166015625],"size":[326.2242126464844,102],"flags":{},"order":2,"mode":4,"inputs":[{"label":"模型完整路径","localized_name":"custom_model_path","name":"custom_model_path","type":"STRING","widget":{"name":"custom_model_path"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoaderCustomPath"},"widgets_values":["",true]},{"id":367,"type":"modelscopeLoraImageEditNode","pos":[-3100.31640625,892.8643188476562],"size":[400,406],"flags":{},"order":3,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"编辑提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"基础模型","name":"base_model","type":"STRING","widget":{"name":"base_model"},"link":null},{"localized_name":"LoRA模型","name":"lora_model","type":"STRING","widget":{"name":"lora_model"},"link":null},{"localized_name":"负面提示词","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"使用自定义尺寸","name":"use_custom_size","shape":7,"type":"BOOLEAN","widget":{"name":"use_custom_size"},"link":null},{"localized_name":"宽度","name":"width","shape":7,"type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","shape":7,"type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"随机种子","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"采样步数","name":"steps","shape":7,"type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"引导系数","name":"guidance","shape":7,"type":"FLOAT","widget":{"name":"guidance"},"link":null},{"localized_name":"LoRA权重","name":"lora_weight","shape":7,"type":"FLOAT","widget":{"name":"lora_weight"},"link":null}],"outputs":[{"label":"编辑图像","localized_name":"edited_image","name":"edited_image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"modelscopeLoraImageEditNode"},"widgets_values":["修改图片中的内容","","Qwen/Qwen-Image-Edit","qiyuanai/TikTok_Xiaohongshu_career_line_beauty_v1","",512,512,512,10075440,"randomize",30,3.5,0.8]},{"id":364,"type":"ModelscopeApiSelector","pos":[-4225.79541015625,883.1751098632812],"size":[270,58],"flags":{},"order":4,"mode":4,"inputs":[{"localized_name":"模型名称","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"label":"模型名称","localized_name":"model_name","name":"model_name","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiSelector"},"widgets_values":["Qwen/Qwen-Image"]},{"id":370,"type":"YoloModelLoaderCustomPath","pos":[-4212.130859375,-283.5531005859375],"size":[334.7896423339844,150],"flags":{},"order":5,"mode":4,"inputs":[{"label":"自定义模型路径","localized_name":"custom_model_path","name":"custom_model_path","type":"STRING","widget":{"name":"custom_model_path"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoaderCustomPath"},"widgets_values":["",0.5,0.45,true]},{"id":385,"type":"Note","pos":[-3843.60009765625,-300.4102783203125],"size":[306.2032470703125,144.3884735107422],"flags":{},"order":6,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["YOLO模型加载器 (v8预设)：使用预设的模型，如果没有则自动下载。\nYOLO模型加载器V2(本地模型)，读取【models\\yolo】并自动加载。\nYOLO模型加载器(自定义路径)：使用自定义路径，"],"color":"#432","bgcolor":"#653"},{"id":361,"type":"Note","pos":[-3092.53955078125,-433.4620361328125],"size":[306.2032470703125,144.3884735107422],"flags":{},"order":7,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["SAM模型加载器（预设）：使用预设的模型，如果没有则自动下载。\nSAM模型加载器V2 (本地模型)，读取【models\\sam】并自动加载。\nSAM模型加载器(自定义路径)：使用自定义路径，"],"color":"#432","bgcolor":"#653"},{"id":365,"type":"ModelscopeApiManager","pos":[-4218.75634765625,997.6298828125],"size":[277.40234375,130],"flags":{},"order":8,"mode":4,"inputs":[{"localized_name":"操作类型","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"localized_name":"模型ID","name":"model_id","shape":7,"type":"STRING","widget":{"name":"model_id"},"link":null},{"localized_name":"要删除的模型","name":"model_to_delete","shape":7,"type":"COMBO","widget":{"name":"model_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiManager"},"widgets_values":["list","",""]},{"id":366,"type":"modelscopeLoraTextToImageNode","pos":[-3529.3955078125,897.8267211914062],"size":[400,406],"flags":{},"order":9,"mode":4,"inputs":[{"localized_name":"提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"基础模型","name":"base_model","type":"STRING","widget":{"name":"base_model"},"link":null},{"localized_name":"LoRA模型","name":"lora_model","type":"STRING","widget":{"name":"lora_model"},"link":null},{"localized_name":"负面提示词","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"宽度","name":"width","shape":7,"type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","shape":7,"type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"随机种子","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"采样步数","name":"steps","shape":7,"type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"引导系数","name":"guidance","shape":7,"type":"FLOAT","widget":{"name":"guidance"},"link":null},{"localized_name":"LoRA权重","name":"lora_weight","shape":7,"type":"FLOAT","widget":{"name":"lora_weight"},"link":null},{"localized_name":"批次大小","name":"batch_size","shape":7,"type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"label":"生成图像","localized_name":"images","name":"images","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"modelscopeLoraTextToImageNode"},"widgets_values":["A golden cat","","Qwen/Qwen-Image","qiyuanai/TikTok_Xiaohongshu_career_line_beauty_v1","",512,512,472037017,"randomize",30,7.5,0.8,1]},{"id":411,"type":"PreviewImage","pos":[-231.1571502685547,-601.0450439453125],"size":[140,246.00003051757812],"flags":{},"order":160,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":406}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":415,"type":"MaskToImage","pos":[-70.60160064697266,-598.0687866210938],"size":[140,26],"flags":{},"order":161,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":407}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[408]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":416,"type":"PreviewImage","pos":[95.02674102783203,-605.9148559570312],"size":[140,246],"flags":{},"order":178,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":408}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":406,"type":"PreviewAny","pos":[263.8269348144531,-600.5372314453125],"size":[303.4782409667969,152.020751953125],"flags":{},"order":163,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":410}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":404,"type":"PreviewAny","pos":[609.7745971679688,-604.32470703125],"size":[303.4782409667969,152.020751953125],"flags":{},"order":162,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":409}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":420,"type":"PreviewImage","pos":[-182.66587829589844,-227.5816192626953],"size":[140,246],"flags":{},"order":164,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":418}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":421,"type":"PreviewImage","pos":[-2.6545543670654297,-228.85919189453125],"size":[140,246],"flags":{},"order":165,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":419}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":423,"type":"PreviewImage","pos":[164.11407470703125,-228.08026123046875],"size":[140,246],"flags":{},"order":166,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":420}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":422,"type":"PreviewImage","pos":[325.625,-230.83792114257812],"size":[140,246],"flags":{},"order":167,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":421}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":425,"type":"PreviewImage","pos":[494.0677795410156,-233.5955810546875],"size":[140,246],"flags":{},"order":168,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":422}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":397,"type":"YoloDetectionNode","pos":[-894.3765869140625,-588.160888671875],"size":[293.1328125,166],"flags":{},"order":108,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":381},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":441},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"显示标注","localized_name":"show_annotations","name":"show_annotations","type":"BOOLEAN","widget":{"name":"show_annotations"},"link":null}],"outputs":[{"label":"带标注图像","localized_name":"annotated_image","name":"annotated_image","type":"IMAGE","links":[404,416]},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","links":[405,417]},{"label":"检测对象数量","localized_name":"detected_objects_count","name":"detected_objects_count","type":"INT","links":[]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[]}],"properties":{"Node name for S&R":"YoloDetectionNode"},"widgets_values":["",0.5,false]},{"id":398,"type":"YoloModelLoaderV2","pos":[-1279.6375732421875,-579.8355712890625],"size":[337.9136657714844,150],"flags":{},"order":10,"mode":4,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":[381]},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoaderV2"},"widgets_values":["yolo12m.pt",0.5,0.45,true]},{"id":448,"type":"LoadImage","pos":[-1265.1854248046875,-346.0316467285156],"size":[270,314.00006103515625],"flags":{},"order":11,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[441]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["image_21c6ea4cc4e44e0b9252da8d2541160d.jpeg","image"]},{"id":438,"type":"MaskToImage","pos":[-172.07162475585938,76.52942657470703],"size":[140,26],"flags":{},"order":169,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":442}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[436]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":439,"type":"PreviewImage","pos":[-166.7252960205078,82.11483764648438],"size":[140,246],"flags":{},"order":179,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":436}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":440,"type":"MaskToImage","pos":[8.21609878540039,87.26826477050781],"size":[140,26],"flags":{},"order":170,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":443}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[437]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":441,"type":"PreviewImage","pos":[16.24897575378418,96.43538665771484],"size":[140,246],"flags":{},"order":180,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":437}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":442,"type":"MaskToImage","pos":[172.6700897216797,98.61247253417969],"size":[140,26],"flags":{},"order":171,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":444}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[438]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":443,"type":"PreviewImage","pos":[180.70286560058594,103.30243682861328],"size":[140,246],"flags":{},"order":181,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":438}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":444,"type":"MaskToImage","pos":[346.6898193359375,106.97404479980469],"size":[140,26],"flags":{},"order":172,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":445}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[439]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":445,"type":"PreviewImage","pos":[352.03631591796875,112.55940246582031],"size":[140,246],"flags":{},"order":182,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":439}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":446,"type":"MaskToImage","pos":[518.8993530273438,116.86768341064453],"size":[140,26],"flags":{},"order":173,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":446}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[440]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":447,"type":"PreviewImage","pos":[520.6640014648438,120.66217041015625],"size":[140,246],"flags":{},"order":183,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":440}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":405,"type":"PreviewAny","pos":[674.5257568359375,-234.12608337402344],"size":[303.4782409667969,152.020751953125],"flags":{},"order":174,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":447}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":419,"type":"YoloDetectionMultiOutputCropNode","pos":[-510.3768310546875,-225.92129516601562],"size":[292.6997985839844,302],"flags":{},"order":139,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":416},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","link":417},{"label":"裁切边距","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"label":"方形裁切","localized_name":"square_crop","name":"square_crop","type":"BOOLEAN","widget":{"name":"square_crop"},"link":null}],"outputs":[{"label":"裁切图像1","localized_name":"cropped_image_1","name":"cropped_image_1","type":"IMAGE","links":[418]},{"label":"裁切图像2","localized_name":"cropped_image_2","name":"cropped_image_2","type":"IMAGE","links":[419]},{"label":"裁切图像3","localized_name":"cropped_image_3","name":"cropped_image_3","type":"IMAGE","links":[420]},{"label":"裁切图像4","localized_name":"cropped_image_4","name":"cropped_image_4","type":"IMAGE","links":[421]},{"label":"裁切图像5","localized_name":"cropped_image_5","name":"cropped_image_5","type":"IMAGE","links":[422]},{"label":"遮罩1","localized_name":"mask_1","name":"mask_1","type":"MASK","links":[442]},{"label":"遮罩2","localized_name":"mask_2","name":"mask_2","type":"MASK","links":[443]},{"label":"遮罩3","localized_name":"mask_3","name":"mask_3","type":"MASK","links":[444]},{"label":"遮罩4","localized_name":"mask_4","name":"mask_4","type":"MASK","links":[445]},{"label":"遮罩5","localized_name":"mask_5","name":"mask_5","type":"MASK","links":[446]},{"label":"裁切数量","localized_name":"crop_count","name":"crop_count","type":"INT","links":[447]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[448]}],"properties":{"Node name for S&R":"YoloDetectionMultiOutputCropNode"},"widgets_values":[0,false]},{"id":407,"type":"PreviewAny","pos":[702.696044921875,118.00188446044922],"size":[303.4782409667969,152.020751953125],"flags":{},"order":175,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":448}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":414,"type":"YoloDetectionCropNode","pos":[-551.0424194335938,-613.6251220703125],"size":[284.443359375,190],"flags":{},"order":138,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":404},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","link":405},{"label":"裁切边距","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"label":"方形裁切","localized_name":"square_crop","name":"square_crop","type":"BOOLEAN","widget":{"name":"square_crop"},"link":null},{"label":"裁切索引","localized_name":"crop_index","name":"crop_index","shape":7,"type":"INT","widget":{"name":"crop_index"},"link":null}],"outputs":[{"label":"裁切图像","localized_name":"cropped_images","name":"cropped_images","type":"IMAGE","links":[406]},{"label":"裁切遮罩","localized_name":"masks","name":"masks","type":"MASK","links":[407]},{"label":"裁切数量","localized_name":"crop_count","name":"crop_count","type":"INT","links":[409]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[410]}],"properties":{"Node name for S&R":"YoloDetectionCropNode"},"widgets_values":[0,false,0]},{"id":454,"type":"SamModelLoaderV2","pos":[-570.8623046875,695.4816284179688],"size":[333.2378845214844,102],"flags":{},"order":12,"mode":4,"inputs":[{"localized_name":"model_file","name":"model_file","type":"COMBO","widget":{"name":"model_file"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":[451]},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoaderV2"},"widgets_values":["sam_vit_b_01ec64.pth",true]},{"id":453,"type":"YoloModelLoaderV2","pos":[-558.6307983398438,485.70623779296875],"size":[337.9136657714844,150],"flags":{},"order":13,"mode":4,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":[450,452]},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoaderV2"},"widgets_values":["yolo12m.pt",0.5,0.45,true]},{"id":456,"type":"PreviewImage","pos":[175.94065856933594,488.66748046875],"size":[140,246.00003051757812],"flags":{},"order":184,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":454}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":458,"type":"MaskToImage","pos":[343.6727294921875,492.8447570800781],"size":[140,26],"flags":{},"order":185,"mode":4,"inputs":[{"localized_name":"遮罩","name":"mask","type":"MASK","link":460}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[459]}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":459,"type":"PreviewImage","pos":[343.646728515625,494.8484191894531],"size":[140,246],"flags":{},"order":194,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":459}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":399,"type":"PreviewAny","pos":[370.1307067871094,804.8516235351562],"size":[303.4782409667969,152.020751953125],"flags":{},"order":189,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":463}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":460,"type":"PreviewAny","pos":[707.21728515625,797.1118774414062],"size":[303.4782409667969,152.020751953125],"flags":{},"order":190,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":462}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":462,"type":"PreviewAny","pos":[382.695556640625,1025.5750732421875],"size":[303.4782409667969,152.020751953125],"flags":{},"order":191,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":464}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":461,"type":"PreviewAny","pos":[719.7820434570312,1017.83544921875],"size":[303.4782409667969,152.020751953125],"flags":{},"order":192,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":466}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":418,"type":"PreviewImage","pos":[174.8048553466797,796.7425537109375],"size":[140,246],"flags":{},"order":188,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":455}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":466,"type":"PreviewAny","pos":[506.1346435546875,500.3779602050781],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":186,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":469}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":463,"type":"PreviewAny","pos":[1077.477783203125,1027.0673828125],"size":[303.4782409667969,152.020751953125],"flags":{},"order":193,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":465}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":467,"type":"Reroute","pos":[-265.906982421875,821.8231201171875],"size":[75,26],"flags":{},"order":141,"mode":4,"inputs":[{"name":"","type":"*","link":483}],"outputs":[{"name":"","type":"IMAGE","links":[471,472]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":474,"type":"YoloModelLoaderCustomPath","pos":[-933.5961303710938,492.9994812011719],"size":[334.7896423339844,150],"flags":{},"order":14,"mode":4,"inputs":[{"label":"自定义模型路径","localized_name":"custom_model_path","name":"custom_model_path","type":"STRING","widget":{"name":"custom_model_path"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoaderCustomPath"},"widgets_values":["",0.5,0.45,true]},{"id":472,"type":"YoloModelLoader","pos":[-1271.85693359375,499.9811096191406],"size":[311.4654235839844,174],"flags":{},"order":15,"mode":4,"inputs":[{"label":"模型名称","localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null},{"localized_name":"force_reload","name":"force_reload","shape":7,"type":"BOOLEAN","widget":{"name":"force_reload"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoader"},"widgets_values":["yolov8m.pt",0.5,0.45,true,false]},{"id":469,"type":"SamModelLoader","pos":[-1269.1397705078125,735.2124633789062],"size":[302.8999938964844,126],"flags":{},"order":16,"mode":4,"inputs":[{"localized_name":"模型类型","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"自动下载","name":"auto_download","type":"BOOLEAN","widget":{"name":"auto_download"},"link":null},{"localized_name":"使用缓存","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoader"},"widgets_values":["vit_b",true,true]},{"id":471,"type":"SamModelLoaderCustomPath","pos":[-937.4337768554688,722.18603515625],"size":[326.2242126464844,102],"flags":{},"order":17,"mode":4,"inputs":[{"label":"模型完整路径","localized_name":"custom_model_path","name":"custom_model_path","type":"STRING","widget":{"name":"custom_model_path"},"link":null},{"label":"使用缓存","localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"SAM模型","localized_name":"model","name":"model","type":"SAM_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"SamModelLoaderCustomPath"},"widgets_values":["",true]},{"id":457,"type":"Note","pos":[1168.091796875,496.6606140136719],"size":[264.54620361328125,164.19552612304688],"flags":{},"order":18,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["输出白底图\n\n\n现在有个问题（对于检测模型不是问题）。\n例如图片是一个女人，手拿鲜花，拿鲜花会被扣掉。\n\n\n白底图有时不支持。"],"color":"#432","bgcolor":"#653"},{"id":465,"type":"PreviewImage","pos":[-158.93824768066406,1065.7386474609375],"size":[140,246],"flags":{},"order":140,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":475}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":468,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[-561.5157470703125,860.9652099609375],"size":[303.68515625,330],"flags":{},"order":109,"mode":4,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":484},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"aspect_ratio","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"proportional_width","name":"proportional_width","type":"INT","widget":{"name":"proportional_width"},"link":null},{"localized_name":"proportional_height","name":"proportional_height","type":"INT","widget":{"name":"proportional_height"},"link":null},{"localized_name":"fit","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"round_to_multiple","name":"round_to_multiple","type":"COMBO","widget":{"name":"round_to_multiple"},"link":null},{"localized_name":"scale_to_side","name":"scale_to_side","type":"COMBO","widget":{"name":"scale_to_side"},"link":null},{"localized_name":"scale_to_length","name":"scale_to_length","type":"INT","widget":{"name":"scale_to_length"},"link":null},{"localized_name":"background_color","name":"background_color","type":"STRING","widget":{"name":"background_color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[475,483]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"original_size","name":"original_size","type":"BOX","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2"},"widgets_values":["original",1,1,"letterbox","lanczos","8","longest",768,"#000000"],"color":"rgba(38, 73, 116, 0.7)"},{"id":452,"type":"YoloDetectAndCropNode","pos":[-158.18653869628906,800.9337768554688],"size":[297.4654235839844,206],"flags":{},"order":177,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":452},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":472},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"边界填充","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null}],"outputs":[{"label":"裁剪图像","localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[455]},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","links":[463]},{"label":"检测对象数量","localized_name":"detected_objects_count","name":"detected_objects_count","type":"INT","links":[462]},{"label":"裁剪信息","localized_name":"crop_info","name":"crop_info","type":"JSON","links":[464]},{"label":"裁剪区域数量","localized_name":"crop_regions_count","name":"crop_regions_count","type":"INT","links":[466]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[465]}],"properties":{"Node name for S&R":"YoloDetectAndCropNode"},"widgets_values":["",0.5,20]},{"id":400,"type":"PreviewAny","pos":[837.15966796875,494.3601989746094],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":187,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":458}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":451,"type":"YoloSamBackgroundRemovalNode","pos":[-141.0559844970703,487.3563232421875],"size":[279.9790954589844,242],"flags":{},"order":176,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":450},{"label":"SAM模型","localized_name":"sam_model","name":"sam_model","type":"SAM_MODEL","link":451},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":471},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"选择模式","localized_name":"selection_mode","name":"selection_mode","type":"COMBO","widget":{"name":"selection_mode"},"link":null},{"label":"物体索引","localized_name":"object_index","name":"object_index","type":"INT","widget":{"name":"object_index"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"边界填充","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"localized_name":"遮罩扩张","name":"mask_dilation","shape":7,"type":"INT","widget":{"name":"mask_dilation"},"link":null},{"localized_name":"遮罩模糊","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null}],"outputs":[{"label":"裁剪图像","localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[454]},{"label":"前景遮罩","localized_name":"foreground_mask","name":"foreground_mask","type":"MASK","links":[460,469]},{"label":"处理信息","localized_name":"info","name":"info","type":"STRING","links":[458]}],"properties":{"Node name for S&R":"YoloSamBackgroundRemovalNode"},"widgets_values":["person,potted plant","最高置信度",0,0.5,50,0,0]},{"id":485,"type":"LoadImage","pos":[-887.5297241210938,881.8167114257812],"size":[270,314.0001220703125],"flags":{},"order":19,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[484]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1756102884788.png","image"]},{"id":490,"type":"PreviewAny","pos":[-961.939929916048,2524.1482523680997],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":110,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":487}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":491,"type":"PreviewAny","pos":[-961.435047103548,2697.1376932860685],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":111,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":488}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":492,"type":"PreviewImage","pos":[-611.0624999999377,4703.099334716712],"size":[140,246],"flags":{},"order":142,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":489}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":494,"type":"PreviewAny","pos":[-440.3515624999381,4868.68856811515],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":144,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":491}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":493,"type":"PreviewAny","pos":[-440.8564453124381,4695.6990051268685],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":143,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":490}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":486,"type":"SizeSelector","pos":[-1263.1335334316732,2535.3718851805997],"size":[270,78],"flags":{},"order":20,"mode":4,"inputs":[{"label":"尺寸预设","localized_name":"size_preset","name":"size_preset","type":"COMBO","widget":{"name":"size_preset"},"link":null}],"outputs":[{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":[487]},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":[488]}],"properties":{"Node name for S&R":"SizeSelector"},"widgets_values":["512x512"]},{"id":487,"type":"SquareConverter","pos":[-923.3957519530627,4684.950347900306],"size":[270,122],"flags":{},"order":114,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":485},{"label":"边距","localized_name":"margin","name":"margin","type":"INT","widget":{"name":"margin"},"link":null},{"localized_name":"填充颜色","name":"pad_color","shape":7,"type":"STRING","widget":{"name":"pad_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":[489]},{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":[490]},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":[491]}],"properties":{"Node name for S&R":"SquareConverter"},"widgets_values":[0,"#FFFFFF"]},{"id":371,"type":"YoloDetectAndCropNode","pos":[-4200.5693359375,66.86126708984375],"size":[297.4654235839844,206],"flags":{},"order":21,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":null},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"边界填充","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null}],"outputs":[{"label":"裁剪图像","localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[]},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","links":null},{"label":"检测对象数量","localized_name":"detected_objects_count","name":"detected_objects_count","type":"INT","links":null},{"label":"裁剪信息","localized_name":"crop_info","name":"crop_info","type":"JSON","links":null},{"label":"裁剪区域数量","localized_name":"crop_regions_count","name":"crop_regions_count","type":"INT","links":null},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloDetectAndCropNode"},"widgets_values":["",0.5,20]},{"id":437,"type":"Note","pos":[-3866.64404296875,72.98724365234375],"size":[414.1180725097656,165.09664916992188],"flags":{},"order":22,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["YOLO检测与裁剪一体化：集成yolo检测和裁剪，输出结果裁剪结果（提示词填写结果，无提示词时，输出最大置信度）。\n\nYOLO检测节点：yolo检测。\n\nYOLO检测裁切节点：结合YOLO检测节点一起使用\n\nYOLO检测多输出裁切节点：YOLO检测裁切节点的多直出结果版本。"],"color":"#432","bgcolor":"#653"},{"id":363,"type":"SizeSelector","pos":[-4222.0625,1864.00244140625],"size":[270,78],"flags":{},"order":23,"mode":4,"inputs":[{"label":"尺寸预设","localized_name":"size_preset","name":"size_preset","type":"COMBO","widget":{"name":"size_preset"},"link":null}],"outputs":[{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":null},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"SizeSelector"},"widgets_values":["512x512"]},{"id":436,"type":"YoloDetectionNode","pos":[-4208.912109375,367.22601318359375],"size":[293.1328125,166],"flags":{},"order":24,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":null},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"显示标注","localized_name":"show_annotations","name":"show_annotations","type":"BOOLEAN","widget":{"name":"show_annotations"},"link":null}],"outputs":[{"label":"带标注图像","localized_name":"annotated_image","name":"annotated_image","type":"IMAGE","links":[432,434]},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","links":[433,435]},{"label":"检测对象数量","localized_name":"detected_objects_count","name":"detected_objects_count","type":"INT","links":[]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[]}],"properties":{"Node name for S&R":"YoloDetectionNode"},"widgets_values":["",0.5,false]},{"id":435,"type":"YoloDetectionCropNode","pos":[-3883.46630859375,368.46771240234375],"size":[284.443359375,190],"flags":{},"order":113,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":434},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","link":435},{"label":"裁切边距","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"label":"方形裁切","localized_name":"square_crop","name":"square_crop","type":"BOOLEAN","widget":{"name":"square_crop"},"link":null},{"label":"裁切索引","localized_name":"crop_index","name":"crop_index","shape":7,"type":"INT","widget":{"name":"crop_index"},"link":null}],"outputs":[{"label":"裁切图像","localized_name":"cropped_images","name":"cropped_images","type":"IMAGE","links":[]},{"label":"裁切遮罩","localized_name":"masks","name":"masks","type":"MASK","links":[]},{"label":"裁切数量","localized_name":"crop_count","name":"crop_count","type":"INT","links":[]},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":[]}],"properties":{"Node name for S&R":"YoloDetectionCropNode"},"widgets_values":[0,false,2]},{"id":434,"type":"YoloDetectionMultiOutputCropNode","pos":[-3571.962890625,373.01702880859375],"size":[292.6997985839844,302],"flags":{},"order":112,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":432},{"label":"检测结果","localized_name":"detection_results","name":"detection_results","type":"JSON","link":433},{"label":"裁切边距","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"label":"方形裁切","localized_name":"square_crop","name":"square_crop","type":"BOOLEAN","widget":{"name":"square_crop"},"link":null}],"outputs":[{"label":"裁切图像1","localized_name":"cropped_image_1","name":"cropped_image_1","type":"IMAGE","links":[]},{"label":"裁切图像2","localized_name":"cropped_image_2","name":"cropped_image_2","type":"IMAGE","links":[]},{"label":"裁切图像3","localized_name":"cropped_image_3","name":"cropped_image_3","type":"IMAGE","links":[]},{"label":"裁切图像4","localized_name":"cropped_image_4","name":"cropped_image_4","type":"IMAGE","links":[]},{"label":"裁切图像5","localized_name":"cropped_image_5","name":"cropped_image_5","type":"IMAGE","links":[]},{"label":"遮罩1","localized_name":"mask_1","name":"mask_1","type":"MASK","links":null},{"label":"遮罩2","localized_name":"mask_2","name":"mask_2","type":"MASK","links":null},{"label":"遮罩3","localized_name":"mask_3","name":"mask_3","type":"MASK","links":null},{"label":"遮罩4","localized_name":"mask_4","name":"mask_4","type":"MASK","links":null},{"label":"遮罩5","localized_name":"mask_5","name":"mask_5","type":"MASK","links":null},{"label":"裁切数量","localized_name":"crop_count","name":"crop_count","type":"INT","links":null},{"label":"信息","localized_name":"info","name":"info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloDetectionMultiOutputCropNode"},"widgets_values":[0,false]},{"id":684,"type":"VideoToAudioNode","pos":[-934.1041620751407,3648.981532803855],"size":[270,634],"flags":{},"order":25,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"音频质量","localized_name":"audio_quality","name":"audio_quality","type":"COMBO","widget":{"name":"audio_quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"音频文件路径","localized_name":"audio_file_path","name":"audio_file_path","type":"STRING","links":null},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"VideoToAudioNode"},"widgets_values":["jiebujie_00001_p87-audio_kzbsm_1761144656.mp4","mp3","medium","","image"]},{"id":488,"type":"LoadImage","pos":[-1231.9760742186877,4686.035308837806],"size":[270,314],"flags":{},"order":26,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[485]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1756102884788.png","image"]},{"id":688,"type":"PreviewAny","pos":[-422.5127059074657,5298.326155864325],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":147,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":600}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":686,"type":"LoadImage","pos":[-1205.6715193840282,5113.0700523487],"size":[270,314.0000000000002],"flags":{},"order":27,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[597]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1756102884788.png","image"]},{"id":687,"type":"PreviewImage","pos":[-598.0322371574657,5107.754866801825],"size":[140,246],"flags":{},"order":145,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":598}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":690,"type":"Note","pos":[-889.4680281730907,5338.203963481513],"size":[243.60345458984375,88],"flags":{},"order":28,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["如果填写的目标长度低于图片最大边，则自动按图片最大边添加"],"color":"#432","bgcolor":"#653"},{"id":689,"type":"PreviewAny","pos":[-423.0175887199657,5125.3366539112],"size":[302.13275146484375,116.36499786376953],"flags":{},"order":146,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":599}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":680,"type":"RectangleConverter","pos":[-906.1831160637157,5116.0905601612],"size":[270,170],"flags":{},"order":115,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":597},{"label":"扩展方向","localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null},{"label":"目标长度","localized_name":"target_length","name":"target_length","type":"INT","widget":{"name":"target_length"},"link":null},{"label":"边距","localized_name":"margin","name":"margin","type":"INT","widget":{"name":"margin"},"link":null},{"localized_name":"填充颜色","name":"pad_color","shape":7,"type":"STRING","widget":{"name":"pad_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":[598]},{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":[599]},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":[600]}],"properties":{"Node name for S&R":"RectangleConverter"},"widgets_values":["left_right",1000,0,"#FFFFFF"]},{"id":692,"type":"PreviewImage","pos":[223.68033807546004,5123.766136453377],"size":[140,26],"flags":{},"order":116,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":601}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":681,"type":"CreateImageNode","pos":[-78.17806036203996,5110.031395242439],"size":[271.7964782714844,106],"flags":{},"order":29,"mode":4,"inputs":[{"label":"图像宽度","localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"label":"图像高度","localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"label":"图像颜色","localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"label":"生成的图像","localized_name":"image","name":"image","type":"IMAGE","links":[601]}],"properties":{"Node name for S&R":"CreateImageNode"},"widgets_values":[512,512,"#FFFFFF"]},{"id":696,"type":"PrimitiveString","pos":[-72.67247827319058,4807.977517224316],"size":[270,58],"flags":{},"order":30,"mode":4,"inputs":[{"localized_name":"值","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"字符串","name":"STRING","type":"STRING","links":[603]}],"properties":{"Node name for S&R":"PrimitiveString"},"widgets_values":["B"]},{"id":695,"type":"PrimitiveString","pos":[-75.41832788256558,4700.02286634541],"size":[270,58],"flags":{},"order":31,"mode":4,"inputs":[{"localized_name":"值","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"字符串","name":"STRING","type":"STRING","links":[602]}],"properties":{"Node name for S&R":"PrimitiveString"},"widgets_values":["A"]},{"id":679,"type":"ToggleValueNode","pos":[214.60657446118438,4704.30558118916],"size":[270,118],"flags":{},"order":117,"mode":4,"inputs":[{"label":"值A","localized_name":"value_a","name":"value_a","type":"*","link":602},{"label":"值B","localized_name":"value_b","name":"value_b","type":"*","link":603},{"label":"输入布尔值","localized_name":"input_value","name":"input_value","type":"BOOLEAN","widget":{"name":"input_value"},"link":null}],"outputs":[{"localized_name":"原始类型输出","name":"原始类型输出","type":"*","links":[604]},{"localized_name":"字符串输出","name":"字符串输出","type":"STRING","links":null},{"localized_name":"整数输出","name":"整数输出","type":"INT","links":null},{"localized_name":"浮点输出","name":"浮点输出","type":"FLOAT","links":null}],"properties":{"Node name for S&R":"ToggleValueNode"},"widgets_values":[false]},{"id":697,"type":"PreviewAny","pos":[508.68958227368444,4703.60489759541],"size":[210,88],"flags":{},"order":148,"mode":4,"inputs":[{"localized_name":"源","name":"source","type":"*","link":604}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":722,"type":"ImageVideoPromptSelector","pos":[-4220.0947265625,2062.873046875],"size":[272.5621032714844,98],"flags":{},"order":32,"mode":4,"inputs":[{"label":"提示词预设","localized_name":"prompt_preset","name":"prompt_preset","type":"COMBO","widget":{"name":"prompt_preset"},"link":null}],"outputs":[{"label":"请输入图片的中文、英文提示词","localized_name":"image_prompt","name":"image_prompt","type":"STRING","links":null},{"label":"请输入视频的中文、英文提示词","localized_name":"video_prompt","name":"video_prompt","type":"STRING","links":null},{"label":"预设图片","localized_name":"preset_image","name":"preset_image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"ImageVideoPromptSelector"},"widgets_values":["预设名称1"]},{"id":723,"type":"ImageVideoPromptManager","pos":[-4213.4189453125,2236.29931640625],"size":[400,214],"flags":{},"order":33,"mode":4,"inputs":[{"label":"操作类型","localized_name":"action","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"label":"预设名称","localized_name":"preset_name","name":"preset_name","shape":7,"type":"STRING","widget":{"name":"preset_name"},"link":null},{"label":"请输入图片的中文、英文提示词","localized_name":"image_prompt","name":"image_prompt","shape":7,"type":"STRING","widget":{"name":"image_prompt"},"link":null},{"label":"请输入视频的中文、英文提示词","localized_name":"video_prompt","name":"video_prompt","shape":7,"type":"STRING","widget":{"name":"video_prompt"},"link":null},{"label":"要删除的预设","localized_name":"preset_to_delete","name":"preset_to_delete","shape":7,"type":"COMBO","widget":{"name":"preset_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImageVideoPromptManager"},"widgets_values":["list","","","","预设名称1"]},{"id":727,"type":"Note","pos":[-3600.441162109375,2067.310546875],"size":[414.1180725097656,165.09664916992188],"flags":{},"order":34,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["图片视频提示词预设：作者预设一些一些热门的效果，支持从图片生成到图片生成视频的提示词预设，【注意这是一个dev版，在未来的某一天可能会不见】\n图像上传节点：给预设增加图片预览、\n图片视频提示词预设管理器：预设词管理。"],"color":"#432","bgcolor":"#653"},{"id":714,"type":"PreviewImage","pos":[1051.2657883938098,2509.7318875380165],"size":[216.44288635253906,258],"flags":{},"order":121,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":616}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":718,"type":"ShowText|pysssss","pos":[709.3497727688087,2525.7858426161415],"size":[311.18841552734375,88],"flags":{},"order":119,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":614}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":719,"type":"ShowText|pysssss","pos":[715.0987962063087,2679.6914212294228],"size":[297.1031494140625,89.00164031982422],"flags":{},"order":120,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":615}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":716,"type":"ImageVideoPromptManager","pos":[406.47745831568386,2827.8647610731728],"size":[305.4852600097656,214],"flags":{},"order":35,"mode":4,"inputs":[{"label":"操作类型","localized_name":"action","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"label":"预设名称","localized_name":"preset_name","name":"preset_name","shape":7,"type":"STRING","widget":{"name":"preset_name"},"link":null},{"label":"图片提示词","localized_name":"image_prompt","name":"image_prompt","shape":7,"type":"STRING","widget":{"name":"image_prompt"},"link":null},{"label":"视频提示词","localized_name":"video_prompt","name":"video_prompt","shape":7,"type":"STRING","widget":{"name":"video_prompt"},"link":null},{"label":"要删除的预设","localized_name":"preset_to_delete","name":"preset_to_delete","shape":7,"type":"COMBO","widget":{"name":"preset_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":[617]}],"properties":{"Node name for S&R":"ImageVideoPromptManager"},"widgets_values":["list","","","","预设名称1"]},{"id":715,"type":"ImageVideoPromptSelector","pos":[410.303141909434,2539.394607264579],"size":[272.5621032714844,98],"flags":{},"order":36,"mode":4,"inputs":[{"label":"提示词预设","localized_name":"prompt_preset","name":"prompt_preset","type":"COMBO","widget":{"name":"prompt_preset"},"link":null}],"outputs":[{"label":"图片提示词","localized_name":"image_prompt","name":"image_prompt","type":"STRING","links":[614]},{"label":"视频提示词","localized_name":"video_prompt","name":"video_prompt","type":"STRING","links":[615]},{"label":"预设图片","localized_name":"preset_image","name":"preset_image","type":"IMAGE","links":[616]}],"properties":{"Node name for S&R":"ImageVideoPromptSelector"},"widgets_values":["预设名称1"]},{"id":707,"type":"ShowText|pysssss","pos":[742.9838059719348,3252.3730008192656],"size":[140,76],"flags":{},"order":155,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":654}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":708,"type":"ShowText|pysssss","pos":[750.8373215969344,2828.2756497450478],"size":[409.8950500488281,217.70559692382812],"flags":{},"order":118,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":617}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":728,"type":"MarkdownNote","pos":[-1257.4217529296875,957.8359375],"size":[348.97723388671875,311.06170654296875],"flags":{},"order":37,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\n# yolo\n## yolo模型加载器\n## 一些使用说明\n### yolo-classes:\n- person,car,dog - 只检测人、汽车和狗\n- person - 只检测人\n- 留空 - 检测所有类别\n\nperson, bicycle, car, motorcycle, airplane, bus, train, truck, boat,\ntraffic light, fire hydrant, stop sign, parking meter, bench, bird, cat,\ndog, horse, sheep, cow, elephant, bear, zebra, giraffe, backpack, umbrella,\nhandbag, tie, suitcase, frisbee, skis, snowboard, sports ball, kite,\nbaseball bat, baseball glove, skateboard, surfboard, tennis racket, bottle,\nwine glass, cup, fork, knife, spoon, bowl, banana, apple, sandwich, orange,\nbroccoli, carrot, hot dog, pizza, donut, cake, chair, couch, potted plant,\nbed, dining table, toilet, tv, laptop, mouse, remote, keyboard, cell phone,\nmicrowave, oven, toaster, sink, refrigerator, book, clock, vase, scissors,\nteddy bear, hair drier, toothbrush"],"color":"#432","bgcolor":"#653"},{"id":362,"type":"YoloSamBackgroundRemovalNode","pos":[-3072.94384765625,92.02557373046875],"size":[279.9790954589844,242],"flags":{},"order":38,"mode":4,"inputs":[{"label":"YOLO模型","localized_name":"yolo_model","name":"yolo_model","type":"YOLO_MODEL","link":null},{"label":"SAM模型","localized_name":"sam_model","name":"sam_model","type":"SAM_MODEL","link":null},{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"检测类别","localized_name":"classes","name":"classes","type":"STRING","widget":{"name":"classes"},"link":null},{"label":"选择模式","localized_name":"selection_mode","name":"selection_mode","type":"COMBO","widget":{"name":"selection_mode"},"link":null},{"label":"物体索引","localized_name":"object_index","name":"object_index","type":"INT","widget":{"name":"object_index"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"边界填充","localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"localized_name":"遮罩扩张","name":"mask_dilation","shape":7,"type":"INT","widget":{"name":"mask_dilation"},"link":null},{"localized_name":"遮罩模糊","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null}],"outputs":[{"label":"裁剪图像","localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[]},{"label":"前景遮罩","localized_name":"foreground_mask","name":"foreground_mask","type":"MASK","links":null},{"label":"处理信息","localized_name":"info","name":"info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloSamBackgroundRemovalNode"},"widgets_values":["","最高置信度",0,0.5,50,0,0]},{"id":483,"type":"LoadImage","pos":[-1218.6871264712113,2046.0652713888517],"size":[270,314],"flags":{},"order":39,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[621]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1756102884788.png","image"]},{"id":730,"type":"ModelscopeApiLoraSelector","pos":[-3898.946533203125,887.5592651367188],"size":[270,58],"flags":{},"order":40,"mode":4,"inputs":[{"localized_name":"lora_model","name":"lora_model","type":"COMBO","widget":{"name":"lora_model"},"link":null}],"outputs":[{"label":"Lora模型名称","localized_name":"lora_model_name","name":"lora_model_name","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiLoraSelector"},"widgets_values":["qwenimage_test/qwenimage_lora_test"]},{"id":731,"type":"ModelscopeApiLoraManager","pos":[-3892.598876953125,1004.6903076171875],"size":[304.0859375,130],"flags":{},"order":41,"mode":4,"inputs":[{"localized_name":"操作类型","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"localized_name":"Lora模型ID","name":"lora_model_id","shape":7,"type":"STRING","widget":{"name":"lora_model_id"},"link":null},{"localized_name":"要删除的Lora模型","name":"lora_model_to_delete","shape":7,"type":"COMBO","widget":{"name":"lora_model_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiLoraManager"},"widgets_values":["list","",""]},{"id":482,"type":"PreviewImage","pos":[-476.5173266665237,1937.308621179425],"size":[374.42364501953125,362.8608703613281],"flags":{},"order":158,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":625}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":480,"type":"ModelscopeApiSelector","pos":[-1204.8730395571488,1925.9247405641909],"size":[270,58],"flags":{},"order":42,"mode":4,"inputs":[{"localized_name":"模型名称","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"label":"模型名称","localized_name":"model_name","name":"model_name","type":"STRING","links":[]}],"properties":{"Node name for S&R":"ModelscopeApiSelector"},"widgets_values":["Qwen/Qwen-Image-Edit"]},{"id":772,"type":"ShowText|pysssss","pos":[-274.94673701262246,5737.576558259575],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":153,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":650}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":741,"type":"ShowText|pysssss","pos":[-581.6215417001227,5739.2408649002],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":150,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":631}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["4cf40d2ea169d1c4bd13314fd07d2dad"]},{"id":776,"type":"ShowText|pysssss","pos":[-267.06734248137246,5918.4908649002],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":154,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":651}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":775,"type":"ShowText|pysssss","pos":[-573.7419030282477,5920.155171540825],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":151,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":648}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":738,"type":"ShowText|pysssss","pos":[-585.9911706063727,5546.357319978325],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":149,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":630}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["fa3cfe93-afcd-4e86-bda1-61597ae6d392"]},{"id":740,"type":"Imageencodinggeneration","pos":[-894.0039879891838,5554.57631411895],"size":[270,182],"flags":{},"order":122,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":647}],"outputs":[{"label":"生成的UUID","localized_name":"uuid","name":"uuid","type":"STRING","links":[630]},{"label":"MD5哈希值","localized_name":"md5","name":"md5","type":"STRING","links":[631]},{"label":"SHA1哈希值","localized_name":"sha1","name":"sha1","type":"STRING","links":[648]},{"label":"SHA256哈希值","localized_name":"sha256","name":"sha256","type":"STRING","links":[649]},{"label":"SHA512哈希值","localized_name":"sha512","name":"sha512","type":"STRING","links":[650]},{"label":"图像信息","localized_name":"image_info","name":"image_info","type":"STRING","links":[651]}],"properties":{"Node name for S&R":"Imageencodinggeneration"},"widgets_values":[]},{"id":737,"type":"LoadImage","pos":[-1195.7779137704335,5555.016011384575],"size":[270,314.0001220703125],"flags":{},"order":43,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[647]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["image_7acaf0a1feb24a7cb7aa36ca3cbfc787.jpeg","image"]},{"id":774,"type":"ShowText|pysssss","pos":[-273.77876826262246,5549.30873599395],"size":[283.4783630371094,127.18231201171875],"flags":{},"order":152,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":649}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":721,"type":"LoadImage","pos":[425.221354800059,3125.955886561453],"size":[270,314],"flags":{},"order":44,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[652]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1.png","image"]},{"id":768,"type":"LoadImage","pos":[-622.8948114892032,3667.6985738194803],"size":[270,314],"flags":{},"order":45,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[655,657]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1.png","image"]},{"id":769,"type":"LoadImage","pos":[-621.0473993798278,4053.4942281163553],"size":[270,314],"flags":{},"order":46,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[656,658]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1.png","image"]},{"id":781,"type":"ImagesToGifNodeV1","pos":[-295.22415719232794,3672.4187886632303],"size":[270,382],"flags":{},"order":125,"mode":4,"inputs":[{"label":"图片1","localized_name":"image_1","name":"image_1","shape":7,"type":"IMAGE","link":657},{"label":"图片2","localized_name":"image_2","name":"image_2","shape":7,"type":"IMAGE","link":658},{"label":"图片3","localized_name":"image_3","name":"image_3","shape":7,"type":"IMAGE","link":null},{"label":"图片4","localized_name":"image_4","name":"image_4","shape":7,"type":"IMAGE","link":null},{"label":"图片5","localized_name":"image_5","name":"image_5","shape":7,"type":"IMAGE","link":null},{"label":"图片6","localized_name":"image_6","name":"image_6","shape":7,"type":"IMAGE","link":null},{"label":"图片7","localized_name":"image_7","name":"image_7","shape":7,"type":"IMAGE","link":null},{"label":"图片8","localized_name":"image_8","name":"image_8","shape":7,"type":"IMAGE","link":null},{"label":"图片9","localized_name":"image_9","name":"image_9","shape":7,"type":"IMAGE","link":null},{"label":"图片10","localized_name":"image_10","name":"image_10","shape":7,"type":"IMAGE","link":null},{"label":"帧间隔","localized_name":"frame_duration","name":"frame_duration","type":"FLOAT","widget":{"name":"frame_duration"},"link":null},{"label":"循环次数","localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"label":"缩放因子","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImagesToGifNodeV1"},"widgets_values":[1,0,1,true,"256","5","图片转gif_v1.gif"]},{"id":782,"type":"ImagesToGifNodeV2","pos":[4.6388799170471895,3662.9257466710424],"size":[270,430],"flags":{},"order":124,"mode":4,"inputs":[{"label":"图片1","localized_name":"image_1","name":"image_1","shape":7,"type":"IMAGE","link":655},{"label":"图片2","localized_name":"image_2","name":"image_2","shape":7,"type":"IMAGE","link":656},{"label":"图片3","localized_name":"image_3","name":"image_3","shape":7,"type":"IMAGE","link":null},{"label":"图片4","localized_name":"image_4","name":"image_4","shape":7,"type":"IMAGE","link":null},{"label":"图片5","localized_name":"image_5","name":"image_5","shape":7,"type":"IMAGE","link":null},{"label":"图片6","localized_name":"image_6","name":"image_6","shape":7,"type":"IMAGE","link":null},{"label":"图片7","localized_name":"image_7","name":"image_7","shape":7,"type":"IMAGE","link":null},{"label":"图片8","localized_name":"image_8","name":"image_8","shape":7,"type":"IMAGE","link":null},{"label":"图片9","localized_name":"image_9","name":"image_9","shape":7,"type":"IMAGE","link":null},{"label":"图片10","localized_name":"image_10","name":"image_10","shape":7,"type":"IMAGE","link":null},{"label":"帧间隔","localized_name":"frame_duration","name":"frame_duration","type":"FLOAT","widget":{"name":"frame_duration"},"link":null},{"label":"循环次数","localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"label":"缩放因子","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"过渡效果","localized_name":"transition_effect","name":"transition_effect","type":"COMBO","widget":{"name":"transition_effect"},"link":null},{"label":"过渡帧数","localized_name":"transition_frames","name":"transition_frames","type":"INT","widget":{"name":"transition_frames"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImagesToGifNodeV2"},"widgets_values":[0.1,0,1,"wipe_left",10,true,"256","5","图片转gif_v2.gif"]},{"id":780,"type":"PresetImageUploadNode","pos":[725.9833176906839,3125.478103358328],"size":[270,58],"flags":{},"order":123,"mode":4,"inputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","link":652},{"label":"预设名称","localized_name":"preset_name","name":"preset_name","type":"COMBO","widget":{"name":"preset_name"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":[654]}],"properties":{"Node name for S&R":"PresetImageUploadNode"},"widgets_values":["预设名称1"]},{"id":785,"type":"PresetImageUploadNode","pos":[-3902.212646484375,2090.281005859375],"size":[270,58],"flags":{},"order":47,"mode":4,"inputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"预设名称","localized_name":"preset_name","name":"preset_name","type":"COMBO","widget":{"name":"preset_name"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":[]}],"properties":{"Node name for S&R":"PresetImageUploadNode"},"widgets_values":["预设名称1"]},{"id":683,"type":"VideoToGifNode","pos":[-1235.6694696923275,3660.510829678855],"size":[270,710],"flags":{"collapsed":false},"order":48,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"持续时间","localized_name":"duration","name":"duration","type":"FLOAT","widget":{"name":"duration"},"link":null},{"label":"帧率","localized_name":"fps","name":"fps","type":"INT","widget":{"name":"fps"},"link":null},{"label":"图像缩放比例","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"VideoToGifNode"},"widgets_values":["jiebujie_00001_p87-audio_kzbsm_1761144656.mp4",5,10,1,true,"256","2","output.gif","image"]},{"id":788,"type":"ModelscopeApiTextGenerationNode","pos":[57.49772407200122,1433.9933079897282],"size":[400,262],"flags":{},"order":49,"mode":4,"inputs":[{"label":"提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"模型名称","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"label":"系统提示词","localized_name":"system_prompt","name":"system_prompt","shape":7,"type":"STRING","widget":{"name":"system_prompt"},"link":null},{"localized_name":"最大令牌数","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"温度系数","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"Top P","name":"top_p","shape":7,"type":"FLOAT","widget":{"name":"top_p"},"link":null}],"outputs":[{"localized_name":"生成文本","name":"生成文本","type":"STRING","links":[659]}],"properties":{"Node name for S&R":"ModelscopeApiTextGenerationNode"},"widgets_values":["请生成一段关于人工智能的文本","api_token","Qwen/Qwen3-VL-235B-A22B-Instruct","你是一个有帮助的AI助手",1000,0.7,0.9]},{"id":560,"type":"Note","pos":[-3164.7001953125,419.55438232421875],"size":[414.1180725097656,165.09664916992188],"flags":{},"order":50,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["YOLO+SAM背景去除：通过yolo和sam进行识别和裁剪。"],"color":"#432","bgcolor":"#653"},{"id":807,"type":"Note","pos":[-2884.213623046875,1435.4947509765625],"size":[210,88],"flags":{},"order":51,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["反推的图不要太大，识别时间会很长，且容易失败"],"color":"#432","bgcolor":"#653"},{"id":806,"type":"LoadImage","pos":[77.31071235325122,1755.059164923322],"size":[270,314],"flags":{},"order":52,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[660]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1756102884788.png","image"]},{"id":805,"type":"ShowText|pysssss","pos":[474.0243354001267,1448.769858282697],"size":[140,26],"flags":{},"order":126,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":659}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":809,"type":"ShowText|pysssss","pos":[817.1442084470016,1786.0888280092595],"size":[140,26],"flags":{},"order":156,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":662}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":786,"type":"ModelscopeApiImageCaptionNode","pos":[390.3151068845017,1776.7977818666814],"size":[400,200],"flags":{},"order":127,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":660},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"model_name","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"localized_name":"prompt","name":"prompt","shape":7,"type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"max_tokens","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null}],"outputs":[{"localized_name":"图片描述","name":"图片描述","type":"STRING","links":[662]}],"properties":{"Node name for S&R":"ModelscopeApiImageCaptionNode"},"widgets_values":["api_token","Qwen/Qwen3-VL-235B-A22B-Instruct","详细描述这张图片的内容，包括主体、背景、颜色、风格等信息",1000,0.7]},{"id":810,"type":"ShowText|pysssss","pos":[1170.9405951657507,1451.9480199037907],"size":[140,26],"flags":{},"order":128,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":663}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":787,"type":"ModelscopeApiVideoCaptionNode","pos":[729.4716010251266,1449.4206761537907],"size":[400,200],"flags":{},"order":53,"mode":4,"inputs":[{"localized_name":"video_frames","name":"video_frames","type":"IMAGE","link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"model_name","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"localized_name":"prompt","name":"prompt","shape":7,"type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"max_tokens","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null}],"outputs":[{"localized_name":"视频描述","name":"视频描述","type":"STRING","links":[663]}],"properties":{"Node name for S&R":"ModelscopeApiVideoCaptionNode"},"widgets_values":["api_token","Qwen/Qwen3-VL-235B-A22B-Instruct","请详细描述这个视频的内容，包括场景、动作、主体、背景等信息",1000,0.7]},{"id":814,"type":"LoadImage","pos":[56.213077734384576,5563.021969085362],"size":[270,314],"flags":{},"order":54,"mode":4,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[664]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1.png","image"]},{"id":811,"type":"ImageFormatConverterNode","pos":[370.37201328125934,5570.190670257237],"size":[270,106],"flags":{},"order":129,"mode":4,"inputs":[{"label":"输入图像","localized_name":"images","name":"images","type":"IMAGE","link":664},{"label":"目标格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"JPEG/WebP质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"label":"优化PNG","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null}],"outputs":[{"localized_name":"converted_images","name":"converted_images","type":"IMAGE","links":[665]}],"properties":{"Node name for S&R":"ImageFormatConverterNode"},"widgets_values":["JPEG",95,true]},{"id":815,"type":"PreviewImage","pos":[678.2724039062598,5578.331295257237],"size":[140,26],"flags":{},"order":157,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":665}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":813,"type":"BatchImageResizerWithConversionNode","pos":[69.76556796875958,5919.524410491612],"size":[281.8999938964844,178],"flags":{},"order":55,"mode":4,"inputs":[{"label":"输入文件夹","localized_name":"input_folder","name":"input_folder","type":"STRING","widget":{"name":"input_folder"},"link":null},{"label":"缩放模式","localized_name":"resize_mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"label":"目标尺寸","localized_name":"size","name":"size","type":"INT","widget":{"name":"size"},"link":null},{"label":"输出文件夹","localized_name":"output_folder","name":"output_folder","type":"STRING","widget":{"name":"output_folder"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图像质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null}],"outputs":[{"label":"输出文件路径列表","localized_name":"output_paths","name":"output_paths","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchImageResizerWithConversionNode"},"widgets_values":["","width",512,"","保持原格式",100]},{"id":812,"type":"BatchImageFormatConverterNode","pos":[376.06976718750934,5912.734371429112],"size":[270,130],"flags":{},"order":56,"mode":4,"inputs":[{"label":"输入文件夹","localized_name":"input_folder","name":"input_folder","type":"STRING","widget":{"name":"input_folder"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"JPEG/WebP质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"label":"输出文件夹","localized_name":"output_folder","name":"output_folder","type":"STRING","widget":{"name":"output_folder"},"link":null}],"outputs":[{"label":"输出文件路径列表","localized_name":"output_paths","name":"output_paths","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchImageFormatConverterNode"},"widgets_values":["","JPEG",100,""]},{"id":863,"type":"PreviewImage","pos":[-385.8139575258987,1473.0512664430967],"size":[140,26],"flags":{},"order":159,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":693}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":729,"type":"modelscopeLoraImageEditNode","pos":[-907.5676196352734,1926.217251550519],"size":[400,406],"flags":{},"order":132,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":621},{"localized_name":"编辑提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":695},{"localized_name":"基础模型","name":"base_model","type":"STRING","widget":{"name":"base_model"},"link":null},{"localized_name":"LoRA模型","name":"lora_model","type":"STRING","widget":{"name":"lora_model"},"link":null},{"localized_name":"负面提示词","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"使用自定义尺寸","name":"use_custom_size","shape":7,"type":"BOOLEAN","widget":{"name":"use_custom_size"},"link":null},{"localized_name":"宽度","name":"width","shape":7,"type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","shape":7,"type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"随机种子","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"采样步数","name":"steps","shape":7,"type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"引导系数","name":"guidance","shape":7,"type":"FLOAT","widget":{"name":"guidance"},"link":null},{"localized_name":"LoRA权重","name":"lora_weight","shape":7,"type":"FLOAT","widget":{"name":"lora_weight"},"link":null}],"outputs":[{"label":"编辑图像","localized_name":"edited_image","name":"edited_image","type":"IMAGE","links":[625]}],"properties":{"Node name for S&R":"modelscopeLoraImageEditNode"},"widgets_values":["修改图片中的内容","ms-bd25d277-4076-4cba-9e6a-5e0a676c2478","Qwen/Qwen-Image-Edit","qiyuanai/TikTok_Xiaohongshu_career_line_beauty_v1","",false,512,512,18016841,"randomize",30,3.5,0.8]},{"id":859,"type":"ModelscopeApiManager","pos":[-1219.0746997133988,1820.6950500124326],"size":[277.40234375,130],"flags":{"collapsed":true},"order":57,"mode":4,"inputs":[{"localized_name":"操作类型","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"localized_name":"模型ID","name":"model_id","shape":7,"type":"STRING","widget":{"name":"model_id"},"link":null},{"localized_name":"要删除的模型","name":"model_to_delete","shape":7,"type":"COMBO","widget":{"name":"model_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiManager"},"widgets_values":["list","","stabilityai/stable-diffusion-xl-refiner-1.0"]},{"id":858,"type":"ModelscopeApiLoraManager","pos":[-1232.4422534243363,1733.2293670290342],"size":[304.0859375,130],"flags":{"collapsed":true},"order":58,"mode":4,"inputs":[{"localized_name":"操作类型","name":"action","type":"COMBO","widget":{"name":"action"},"link":null},{"localized_name":"Lora模型ID","name":"lora_model_id","shape":7,"type":"STRING","widget":{"name":"lora_model_id"},"link":null},{"localized_name":"要删除的Lora模型","name":"lora_model_to_delete","shape":7,"type":"COMBO","widget":{"name":"lora_model_to_delete"},"link":null}],"outputs":[{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiLoraManager"},"widgets_values":["list","",""]},{"id":860,"type":"ModelscopeApiLoraSelector","pos":[-1238.7985766665238,1534.894619714581],"size":[270,58],"flags":{"collapsed":true},"order":59,"mode":4,"inputs":[{"localized_name":"lora_model","name":"lora_model","type":"COMBO","widget":{"name":"lora_model"},"link":null}],"outputs":[{"label":"Lora模型名称","localized_name":"lora_model_name","name":"lora_model_name","type":"STRING","links":[697]}],"properties":{"Node name for S&R":"ModelscopeApiLoraSelector"},"widgets_values":["qwenimage_test/qwenimage_lora_test"]},{"id":861,"type":"ModelscopeApiSelector","pos":[-1234.2169116274613,1473.1144378298154],"size":[270,58],"flags":{"collapsed":true},"order":60,"mode":4,"inputs":[{"localized_name":"模型名称","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"label":"模型名称","localized_name":"model_name","name":"model_name","type":"STRING","links":[]}],"properties":{"Node name for S&R":"ModelscopeApiSelector"},"widgets_values":["Qwen/Qwen-Image"]},{"id":862,"type":"modelscopeLoraTextToImageNode","pos":[-907.1618579165234,1455.4782683962217],"size":[400,406],"flags":{},"order":133,"mode":4,"inputs":[{"localized_name":"提示词","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":710},{"localized_name":"基础模型","name":"base_model","type":"STRING","widget":{"name":"base_model"},"link":null},{"localized_name":"LoRA模型","name":"lora_model","type":"STRING","widget":{"name":"lora_model"},"link":697},{"localized_name":"负面提示词","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"宽度","name":"width","shape":7,"type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","shape":7,"type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"随机种子","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"采样步数","name":"steps","shape":7,"type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"引导系数","name":"guidance","shape":7,"type":"FLOAT","widget":{"name":"guidance"},"link":null},{"localized_name":"LoRA权重","name":"lora_weight","shape":7,"type":"FLOAT","widget":{"name":"lora_weight"},"link":null},{"localized_name":"批次大小","name":"batch_size","shape":7,"type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[693]}],"properties":{"Node name for S&R":"modelscopeLoraTextToImageNode"},"widgets_values":["Career line,with prominent breasts,A very realistic style,high definition photography style,a young woman,long black hair,holding a badminton shuttlecock,standing,outdoors.","api_token","Qwen/Qwen-Image","qiyuanai/TikTok_Xiaohongshu_career_line_beauty_v1","",928,1664,250943173,"randomize",30,7.5,0.8,1]},{"id":868,"type":"ShowText|pysssss","pos":[-54.509415360787415,2520.4796007278496],"size":[375.0739440917969,124.54034423828125],"flags":{},"order":130,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":708}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["恶魔, 未来主义, 动态模糊, 戏剧性光线, 电影级, 年轻男性, 发光效果, 橙色, 蒸汽朋克, 宫殿, 金色, 乡村风光"]},{"id":867,"type":"RandomPromptGeneratorGroupNode","pos":[-486.9276282514145,2525.5740831497246],"size":[400,424],"flags":{},"order":61,"mode":4,"inputs":[{"label":"手动输入提示词","localized_name":"manual_prompt","name":"manual_prompt","type":"STRING","widget":{"name":"manual_prompt"},"link":null},{"label":"启用人物分类","localized_name":"enable_person","name":"enable_person","type":"BOOLEAN","widget":{"name":"enable_person"},"link":null},{"label":"人物提示词数量","localized_name":"person_count","name":"person_count","type":"INT","widget":{"name":"person_count"},"link":null},{"label":"启用场景分类","localized_name":"enable_scene","name":"enable_scene","type":"BOOLEAN","widget":{"name":"enable_scene"},"link":null},{"label":"场景提示词数量","localized_name":"scene_count","name":"scene_count","type":"INT","widget":{"name":"scene_count"},"link":null},{"label":"启用风格分类","localized_name":"enable_style","name":"enable_style","type":"BOOLEAN","widget":{"name":"enable_style"},"link":null},{"label":"风格提示词数量","localized_name":"style_count","name":"style_count","type":"INT","widget":{"name":"style_count"},"link":null},{"label":"启用光影分类","localized_name":"enable_lighting","name":"enable_lighting","type":"BOOLEAN","widget":{"name":"enable_lighting"},"link":null},{"label":"光影提示词数量","localized_name":"lighting_count","name":"lighting_count","type":"INT","widget":{"name":"lighting_count"},"link":null},{"label":"启用色彩分类","localized_name":"enable_color","name":"enable_color","type":"BOOLEAN","widget":{"name":"enable_color"},"link":null},{"label":"色彩提示词数量","localized_name":"color_count","name":"color_count","type":"INT","widget":{"name":"color_count"},"link":null},{"label":"启用细节分类","localized_name":"enable_detail","name":"enable_detail","type":"BOOLEAN","widget":{"name":"enable_detail"},"link":null},{"label":"细节提示词数量","localized_name":"detail_count","name":"detail_count","type":"INT","widget":{"name":"detail_count"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"生成的提示词","localized_name":"prompt","name":"prompt","type":"STRING","links":[708]}],"properties":{"Node name for S&R":"RandomPromptGeneratorGroupNode"},"widgets_values":["",true,2,true,2,true,2,true,2,true,2,true,2,741485883792747,"randomize"]},{"id":866,"type":"RandomPromptGeneratorNode","pos":[-478.68592903266443,2999.2286241653496],"size":[400,200],"flags":{},"order":62,"mode":4,"inputs":[{"label":"输入提示词","localized_name":"input_prompts","name":"input_prompts","type":"STRING","widget":{"name":"input_prompts"},"link":null},{"label":"输出个数","localized_name":"output_count","name":"output_count","type":"INT","widget":{"name":"output_count"},"link":null},{"label":"分隔符","localized_name":"separator","name":"separator","type":"STRING","widget":{"name":"separator"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"生成的提示词","localized_name":"prompt","name":"prompt","type":"STRING","links":[709]}],"properties":{"Node name for S&R":"RandomPromptGeneratorNode"},"widgets_values":["1,2,3,4,5,6,",2,",",37368462076918,"randomize"]},{"id":869,"type":"ShowText|pysssss","pos":[-44.342423173287415,3004.2515733840996],"size":[296.7159729003906,223.7013397216797],"flags":{},"order":131,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","link":709}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["4, 6"]},{"id":870,"type":"RandomPromptGeneratorGroupNode","pos":[-3099.568359375,2063.938232421875],"size":[400,424],"flags":{},"order":63,"mode":4,"inputs":[{"label":"手动输入提示词","localized_name":"manual_prompt","name":"manual_prompt","type":"STRING","widget":{"name":"manual_prompt"},"link":null},{"label":"启用人物分类","localized_name":"enable_person","name":"enable_person","type":"BOOLEAN","widget":{"name":"enable_person"},"link":null},{"label":"人物提示词数量","localized_name":"person_count","name":"person_count","type":"INT","widget":{"name":"person_count"},"link":null},{"label":"启用场景分类","localized_name":"enable_scene","name":"enable_scene","type":"BOOLEAN","widget":{"name":"enable_scene"},"link":null},{"label":"场景提示词数量","localized_name":"scene_count","name":"scene_count","type":"INT","widget":{"name":"scene_count"},"link":null},{"label":"启用风格分类","localized_name":"enable_style","name":"enable_style","type":"BOOLEAN","widget":{"name":"enable_style"},"link":null},{"label":"风格提示词数量","localized_name":"style_count","name":"style_count","type":"INT","widget":{"name":"style_count"},"link":null},{"label":"启用光影分类","localized_name":"enable_lighting","name":"enable_lighting","type":"BOOLEAN","widget":{"name":"enable_lighting"},"link":null},{"label":"光影提示词数量","localized_name":"lighting_count","name":"lighting_count","type":"INT","widget":{"name":"lighting_count"},"link":null},{"label":"启用色彩分类","localized_name":"enable_color","name":"enable_color","type":"BOOLEAN","widget":{"name":"enable_color"},"link":null},{"label":"色彩提示词数量","localized_name":"color_count","name":"color_count","type":"INT","widget":{"name":"color_count"},"link":null},{"label":"启用细节分类","localized_name":"enable_detail","name":"enable_detail","type":"BOOLEAN","widget":{"name":"enable_detail"},"link":null},{"label":"细节提示词数量","localized_name":"detail_count","name":"detail_count","type":"INT","widget":{"name":"detail_count"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"生成的提示词","localized_name":"prompt","name":"prompt","type":"STRING","links":[]}],"properties":{"Node name for S&R":"RandomPromptGeneratorGroupNode"},"widgets_values":["",true,2,true,2,true,2,true,2,true,2,true,2,444113008782577,"randomize"]},{"id":871,"type":"RandomPromptGeneratorNode","pos":[-2674.989990234375,2068.14794921875],"size":[400,200],"flags":{},"order":64,"mode":4,"inputs":[{"label":"输入提示词","localized_name":"input_prompts","name":"input_prompts","type":"STRING","widget":{"name":"input_prompts"},"link":null},{"label":"输出个数","localized_name":"output_count","name":"output_count","type":"INT","widget":{"name":"output_count"},"link":null},{"label":"分隔符","localized_name":"separator","name":"separator","type":"STRING","widget":{"name":"separator"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"生成的提示词","localized_name":"prompt","name":"prompt","type":"STRING","links":[]}],"properties":{"Node name for S&R":"RandomPromptGeneratorNode"},"widgets_values":["1,2,3,4,5,6,",2,",",58123977856147,"randomize"]},{"id":857,"type":"CR Text","pos":[-1227.9128344790238,1638.1870391481748],"size":[238.6661376953125,108],"flags":{"collapsed":true},"order":65,"mode":4,"inputs":[{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"文本","localized_name":"text","name":"text","type":"*","links":[695,710]},{"label":"显示帮助","localized_name":"show_help","name":"show_help","type":"STRING","links":[]}],"properties":{"Node name for S&R":"CR Text"},"widgets_values":[""]},{"id":904,"type":"BatchExtractFrameFromVideoNode","pos":[656.4663570028013,4062.3350491497918],"size":[304.759765625,314],"flags":{},"order":66,"mode":4,"inputs":[{"label":"文件夹选择模式","localized_name":"folder_selection_mode","name":"folder_selection_mode","type":"COMBO","widget":{"name":"folder_selection_mode"},"link":null},{"label":"视频文件夹","localized_name":"video_folder","name":"video_folder","type":"COMBO","widget":{"name":"video_folder"},"link":null},{"label":"自定义视频文件夹路径","localized_name":"custom_video_folder_path","name":"custom_video_folder_path","type":"STRING","widget":{"name":"custom_video_folder_path"},"link":null},{"label":"提取方式","localized_name":"frame_extraction_method","name":"frame_extraction_method","type":"COMBO","widget":{"name":"frame_extraction_method"},"link":null},{"label":"帧号","localized_name":"frame_number","name":"frame_number","type":"INT","widget":{"name":"frame_number"},"link":null},{"label":"时间戳（秒）","localized_name":"timestamp","name":"timestamp","type":"FLOAT","widget":{"name":"timestamp"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图片质量","localized_name":"image_quality","name":"image_quality","type":"INT","widget":{"name":"image_quality"},"link":null},{"label":"输出文件名前缀","localized_name":"output_filename_prefix","name":"output_filename_prefix","shape":7,"type":"STRING","widget":{"name":"output_filename_prefix"},"link":null},{"label":"输出文件夹路径","localized_name":"output_folder","name":"output_folder","shape":7,"type":"STRING","widget":{"name":"output_folder"},"link":null}],"outputs":[{"label":"图像路径列表","localized_name":"image_paths","name":"image_paths","type":"STRING","links":[]},{"label":"帧索引列表","localized_name":"frame_indices","name":"frame_indices","type":"INT","links":[]},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":[]}],"properties":{"Node name for S&R":"BatchExtractFrameFromVideoNode"},"widgets_values":["select_from_input_dir","video","","frame_number",1,0,"png",100,"batch_frame",""]},{"id":903,"type":"ExtractFrameFromVideoNode","pos":[312.719380152529,3663.5431867701527],"size":[300.072265625,803.12646484375],"flags":{},"order":67,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"提取方式","localized_name":"frame_extraction_method","name":"frame_extraction_method","type":"COMBO","widget":{"name":"frame_extraction_method"},"link":null},{"label":"帧号","localized_name":"frame_number","name":"frame_number","type":"INT","widget":{"name":"frame_number"},"link":null},{"label":"时间戳（秒）","localized_name":"timestamp","name":"timestamp","type":"FLOAT","widget":{"name":"timestamp"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图片质量","localized_name":"image_quality","name":"image_quality","type":"INT","widget":{"name":"image_quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":[730]},{"label":"图像路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null},{"label":"帧索引","localized_name":"frame_index","name":"frame_index","type":"INT","links":null},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ExtractFrameFromVideoNode"},"widgets_values":["20251021-1.mp4","frame_number",1,0,"png",100,"","image"]},{"id":905,"type":"PreviewImage","pos":[650.0234682548178,3669.8030232510378],"size":[140,26],"flags":{},"order":134,"mode":4,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":730}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":368,"type":"YoloModelLoader","pos":[-4226.2470703125,-527.2916259765625],"size":[311.4654235839844,174],"flags":{},"order":68,"mode":4,"inputs":[{"label":"模型名称","localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null},{"localized_name":"force_reload","name":"force_reload","shape":7,"type":"BOOLEAN","widget":{"name":"force_reload"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoader"},"widgets_values":["yolov8m.pt",0.5,0.45,true,false]},{"id":369,"type":"YoloModelLoaderV2","pos":[-3877.9208984375,-522.6500244140625],"size":[337.9136657714844,150],"flags":{},"order":69,"mode":4,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"label":"置信度阈值","localized_name":"confidence_threshold","name":"confidence_threshold","type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"label":"IOU阈值","localized_name":"iou_threshold","name":"iou_threshold","type":"FLOAT","widget":{"name":"iou_threshold"},"link":null},{"localized_name":"use_cache","name":"use_cache","shape":7,"type":"BOOLEAN","widget":{"name":"use_cache"},"link":null}],"outputs":[{"label":"YOLO模型","localized_name":"model","name":"model","type":"YOLO_MODEL","links":null},{"label":"模型信息","localized_name":"model_info","name":"model_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"YoloModelLoaderV2"},"widgets_values":["yolo12m.pt",0.5,0.45,true]},{"id":630,"type":"VideoToGifNode","pos":[-4200.4248046875,2623.986328125],"size":[240.5575765815165,669.657913922696],"flags":{"collapsed":false},"order":70,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"持续时间","localized_name":"duration","name":"duration","type":"FLOAT","widget":{"name":"duration"},"link":null},{"label":"帧率","localized_name":"fps","name":"fps","type":"INT","widget":{"name":"fps"},"link":null},{"label":"图像缩放比例","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"VideoToGifNode"},"widgets_values":["布蕾BREY-囧架架舞蹈.mp4",5,10,1,true,"256","2","output.gif","image"]},{"id":631,"type":"VideoToAudioNode","pos":[-3923.9486966013255,2626.2880399523747],"size":[210,284.7519428979913],"flags":{},"order":71,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"音频质量","localized_name":"audio_quality","name":"audio_quality","type":"COMBO","widget":{"name":"audio_quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"音频文件路径","localized_name":"audio_file_path","name":"audio_file_path","type":"STRING","links":null},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"VideoToAudioNode"},"widgets_values":["jiebujie_00001_p87-audio_kzbsm_1761144656.mp4","mp3","medium","","image"]},{"id":783,"type":"ImagesToGifNodeV2","pos":[-3688.989003529335,2631.0775267137883],"size":[270,430],"flags":{},"order":72,"mode":4,"inputs":[{"label":"图片1","localized_name":"image_1","name":"image_1","shape":7,"type":"IMAGE","link":null},{"label":"图片2","localized_name":"image_2","name":"image_2","shape":7,"type":"IMAGE","link":null},{"label":"图片3","localized_name":"image_3","name":"image_3","shape":7,"type":"IMAGE","link":null},{"label":"图片4","localized_name":"image_4","name":"image_4","shape":7,"type":"IMAGE","link":null},{"label":"图片5","localized_name":"image_5","name":"image_5","shape":7,"type":"IMAGE","link":null},{"label":"图片6","localized_name":"image_6","name":"image_6","shape":7,"type":"IMAGE","link":null},{"label":"图片7","localized_name":"image_7","name":"image_7","shape":7,"type":"IMAGE","link":null},{"label":"图片8","localized_name":"image_8","name":"image_8","shape":7,"type":"IMAGE","link":null},{"label":"图片9","localized_name":"image_9","name":"image_9","shape":7,"type":"IMAGE","link":null},{"label":"图片10","localized_name":"image_10","name":"image_10","shape":7,"type":"IMAGE","link":null},{"label":"帧间隔","localized_name":"frame_duration","name":"frame_duration","type":"FLOAT","widget":{"name":"frame_duration"},"link":null},{"label":"循环次数","localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"label":"缩放因子","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"过渡效果","localized_name":"transition_effect","name":"transition_effect","type":"COMBO","widget":{"name":"transition_effect"},"link":null},{"label":"过渡帧数","localized_name":"transition_frames","name":"transition_frames","type":"INT","widget":{"name":"transition_frames"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImagesToGifNodeV2"},"widgets_values":[0.1,0,0.1,"wipe_left",10,true,"256","5","图片转gif_v2.gif"]},{"id":784,"type":"ImagesToGifNodeV1","pos":[-3380.764752145542,2636.516773648355],"size":[270,382],"flags":{},"order":73,"mode":4,"inputs":[{"label":"图片1","localized_name":"image_1","name":"image_1","shape":7,"type":"IMAGE","link":null},{"label":"图片2","localized_name":"image_2","name":"image_2","shape":7,"type":"IMAGE","link":null},{"label":"图片3","localized_name":"image_3","name":"image_3","shape":7,"type":"IMAGE","link":null},{"label":"图片4","localized_name":"image_4","name":"image_4","shape":7,"type":"IMAGE","link":null},{"label":"图片5","localized_name":"image_5","name":"image_5","shape":7,"type":"IMAGE","link":null},{"label":"图片6","localized_name":"image_6","name":"image_6","shape":7,"type":"IMAGE","link":null},{"label":"图片7","localized_name":"image_7","name":"image_7","shape":7,"type":"IMAGE","link":null},{"label":"图片8","localized_name":"image_8","name":"image_8","shape":7,"type":"IMAGE","link":null},{"label":"图片9","localized_name":"image_9","name":"image_9","shape":7,"type":"IMAGE","link":null},{"label":"图片10","localized_name":"image_10","name":"image_10","shape":7,"type":"IMAGE","link":null},{"label":"帧间隔","localized_name":"frame_duration","name":"frame_duration","type":"FLOAT","widget":{"name":"frame_duration"},"link":null},{"label":"循环次数","localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"label":"缩放因子","localized_name":"resize_factor","name":"resize_factor","type":"FLOAT","widget":{"name":"resize_factor"},"link":null},{"label":"优化GIF","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null},{"label":"调色板大小","localized_name":"palette_size","name":"palette_size","type":"COMBO","widget":{"name":"palette_size"},"link":null},{"label":"质量等级","localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null}],"outputs":[{"label":"GIF文件路径","localized_name":"output_path","name":"output_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImagesToGifNodeV1"},"widgets_values":[1,0,1,true,"256","5","图片转gif_v1.gif"]},{"id":632,"type":"Note","pos":[-3611.251646743303,3139.281299581904],"size":[414.1180725097656,165.09664916992188],"flags":{},"order":74,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["视频转GIF节点：把视频转为gif\n视频转音频节点：提取视频的音频\n图片转gif节点v1：图片合成为gif\n图片转gif节点v2：图片合成为gif，多了转场效果，ps原本是一个版本的，但是如果要有切换效果的话，需要各种调参数，就改为2个版本了，这样参数都是默认的，直接用。\n视频帧提取节点：提取视频帧\n批量视频帧提取节点：批量提取视频帧"],"color":"#432","bgcolor":"#653"},{"id":797,"type":"LoadImageNode","pos":[-4174.446002906736,3637.342338587655],"size":[300.2059630397662,165.76814419506172],"flags":{},"order":75,"mode":4,"inputs":[{"label":"图像文件","localized_name":"image_file","name":"image_file","type":"COMBO","widget":{"name":"image_file"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"图像路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"LoadImageNode"},"widgets_values":["undefined","image"]},{"id":853,"type":"LoadImagePathNode","pos":[-3838.446608238224,3637.9591461137325],"size":[270,108],"flags":{},"order":76,"mode":4,"inputs":[{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"LoadImagePathNode"},"widgets_values":[""]},{"id":798,"type":"BatchLoadImagesNode","pos":[-3541.3966443113845,3647.5589094194356],"size":[270,170],"flags":{},"order":77,"mode":4,"inputs":[{"label":"加载模式","localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null},{"label":"图片索引","localized_name":"index","name":"index","shape":7,"type":"INT","widget":{"name":"index"},"link":null},{"label":"最大图片数量","localized_name":"max_images","name":"max_images","shape":7,"type":"INT","widget":{"name":"max_images"},"link":null}],"outputs":[{"label":"图片张量","localized_name":"images","name":"images","type":"IMAGE","links":null},{"label":"文件名列表","localized_name":"filenames","name":"filenames","type":"STRING","links":null},{"label":"图片数量","localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"Node name for S&R":"BatchLoadImagesNode"},"widgets_values":["加载全部","",0,100]},{"id":794,"type":"ImageFormatConverterNode","pos":[-3236.0482864851742,3641.2705432678677],"size":[270,106],"flags":{},"order":78,"mode":4,"inputs":[{"label":"输入图像","localized_name":"images","name":"images","type":"IMAGE","link":null},{"label":"目标格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"JPEG/WebP质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"label":"优化PNG","localized_name":"optimize","name":"optimize","type":"BOOLEAN","widget":{"name":"optimize"},"link":null}],"outputs":[{"localized_name":"converted_images","name":"converted_images","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"ImageFormatConverterNode"},"widgets_values":["JPEG",95,true]},{"id":795,"type":"BatchImageFormatConverterNode","pos":[-2945.7848978329534,3638.091920247661],"size":[270,130],"flags":{},"order":79,"mode":4,"inputs":[{"label":"输入文件夹","localized_name":"input_folder","name":"input_folder","type":"STRING","widget":{"name":"input_folder"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"JPEG/WebP质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"label":"输出文件夹","localized_name":"output_folder","name":"output_folder","type":"STRING","widget":{"name":"output_folder"},"link":null}],"outputs":[{"label":"输出文件路径列表","localized_name":"output_paths","name":"output_paths","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchImageFormatConverterNode"},"widgets_values":["","JPEG",100,""]},{"id":792,"type":"Imageencodinggeneration","pos":[-4177.658799229169,3873.072738301655],"size":[173.6953125,126],"flags":{},"order":80,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null}],"outputs":[{"label":"生成的UUID","localized_name":"uuid","name":"uuid","type":"STRING","links":null},{"label":"MD5哈希值","localized_name":"md5","name":"md5","type":"STRING","links":null},{"label":"SHA1哈希值","localized_name":"sha1","name":"sha1","type":"STRING","links":null},{"label":"SHA256哈希值","localized_name":"sha256","name":"sha256","type":"STRING","links":null},{"label":"SHA512哈希值","localized_name":"sha512","name":"sha512","type":"STRING","links":null},{"label":"图像信息","localized_name":"image_info","name":"image_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"Imageencodinggeneration"},"widgets_values":[]},{"id":852,"type":"ImageEncodingGenerationNoConvertNode","pos":[-3979.381748791624,3873.883589981239],"size":[235.48129668177808,188],"flags":{},"order":81,"mode":4,"inputs":[{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null}],"outputs":[{"label":"生成的UUID","localized_name":"uuid","name":"uuid","type":"STRING","links":null},{"label":"MD5哈希值","localized_name":"md5","name":"md5","type":"STRING","links":null},{"label":"SHA1哈希值","localized_name":"sha1","name":"sha1","type":"STRING","links":null},{"label":"SHA256哈希值","localized_name":"sha256","name":"sha256","type":"STRING","links":null},{"label":"SHA512哈希值","localized_name":"sha512","name":"sha512","type":"STRING","links":null},{"label":"图片信息","localized_name":"image_info","name":"image_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImageEncodingGenerationNoConvertNode"},"widgets_values":[""]},{"id":924,"type":"BatchImageResizerWithConversionNode","pos":[-3716.518524040306,3868.5085725465474],"size":[281.9,178],"flags":{},"order":82,"mode":4,"inputs":[{"label":"输入文件夹","localized_name":"input_folder","name":"input_folder","type":"STRING","widget":{"name":"input_folder"},"link":null},{"label":"缩放模式","localized_name":"resize_mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"label":"目标尺寸","localized_name":"size","name":"size","type":"INT","widget":{"name":"size"},"link":null},{"label":"输出文件夹","localized_name":"output_folder","name":"output_folder","type":"STRING","widget":{"name":"output_folder"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图像质量","localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null}],"outputs":[{"label":"输出文件路径列表","localized_name":"output_paths","name":"output_paths","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchImageResizerWithConversionNode"},"widgets_values":["","width",512,"","保持原格式",100]},{"id":790,"type":"SquareConverter","pos":[-3402.174888999659,3868.6717146347823],"size":[270,122],"flags":{},"order":83,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"边距","localized_name":"margin","name":"margin","type":"INT","widget":{"name":"margin"},"link":null},{"localized_name":"填充颜色","name":"pad_color","shape":7,"type":"STRING","widget":{"name":"pad_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":null},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"SquareConverter"},"widgets_values":[0,"#FFFFFF"]},{"id":791,"type":"RectangleConverter","pos":[-3098.7401087199637,3873.7274970950552],"size":[270,170],"flags":{},"order":84,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"扩展方向","localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null},{"label":"目标长度","localized_name":"target_length","name":"target_length","type":"INT","widget":{"name":"target_length"},"link":null},{"label":"边距","localized_name":"margin","name":"margin","type":"INT","widget":{"name":"margin"},"link":null},{"localized_name":"填充颜色","name":"pad_color","shape":7,"type":"STRING","widget":{"name":"pad_color"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"宽度","localized_name":"width","name":"width","type":"INT","links":null},{"label":"高度","localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"RectangleConverter"},"widgets_values":["left_right",1024,0,"#FFFFFF"]},{"id":922,"type":"BatchRenameImagesByMD5Node","pos":[-4176.817324446071,4139.91256576837],"size":[400,220],"flags":{},"order":85,"mode":4,"inputs":[{"label":"输入目录","localized_name":"input_directory","name":"input_directory","type":"STRING","widget":{"name":"input_directory"},"link":null},{"label":"输出目录","localized_name":"output_directory","name":"output_directory","type":"STRING","widget":{"name":"output_directory"},"link":null},{"label":"覆盖已存在文件","localized_name":"overwrite_existing","name":"overwrite_existing","shape":7,"type":"BOOLEAN","widget":{"name":"overwrite_existing"},"link":null},{"label":"文件扩展名","localized_name":"file_extensions","name":"file_extensions","shape":7,"type":"STRING","widget":{"name":"file_extensions"},"link":null}],"outputs":[{"label":"处理信息","localized_name":"output_info","name":"output_info","type":"STRING","links":null},{"label":"处理文件数","localized_name":"processed_count","name":"processed_count","type":"INT","links":null},{"label":"重命名文件数","localized_name":"renamed_count","name":"renamed_count","type":"INT","links":null},{"label":"错误信息","localized_name":"error_info","name":"error_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchRenameImagesByMD5Node"},"widgets_values":["","",false,"jpg,jpeg,png,bmp,gif,tiff,webp"]},{"id":569,"type":"Note","pos":[-3291.4643925094983,4165.199799668842],"size":[265.9754638671875,127.90338134765625],"flags":{},"order":86,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["切换值节点：补充其他节点的多类型输出。\n创建图像节点：快速生成纯色画布。\n正方形转换器：输入图片，自动识别最短边的尺寸，填充到早最长边的尺寸。支持填充的颜色。支持设置外边距\n长方形转换器：给图片增加上下或左右尺寸。\n图片编码生成节点：生成图片文件的uuid和哈希值。\nBeta版：可能存在一些bug，以后可能会删除\n"],"color":"#432","bgcolor":"#653"},{"id":565,"type":"ToggleValueNode","pos":[-4161.6771495564835,4552.415745570368],"size":[270,118],"flags":{},"order":87,"mode":4,"inputs":[{"label":"值A","localized_name":"value_a","name":"value_a","type":"*","link":null},{"label":"值B","localized_name":"value_b","name":"value_b","type":"*","link":null},{"label":"输入布尔值","localized_name":"input_value","name":"input_value","type":"BOOLEAN","widget":{"name":"input_value"},"link":null}],"outputs":[{"localized_name":"原始类型输出","name":"原始类型输出","type":"*","links":null},{"localized_name":"字符串输出","name":"字符串输出","type":"STRING","links":null},{"localized_name":"整数输出","name":"整数输出","type":"INT","links":null},{"localized_name":"浮点输出","name":"浮点输出","type":"FLOAT","links":null}],"properties":{"Node name for S&R":"ToggleValueNode"},"widgets_values":[false]},{"id":801,"type":"VersionInfoNode","pos":[-3839.2506413220353,4566.716572805495],"size":[270,58],"flags":{},"order":88,"mode":4,"inputs":[{"label":"虚拟输入","localized_name":"dummy_input","name":"dummy_input","type":"STRING","widget":{"name":"dummy_input"},"link":null}],"outputs":[{"label":"版本信息","localized_name":"version_info","name":"version_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"VersionInfoNode"},"widgets_values":["version_check"]},{"id":925,"type":"BatchImageScalerNode","pos":[-3747.9920623422922,4148.123799718327],"size":[401.0603174114294,202],"flags":{},"order":89,"mode":4,"inputs":[{"label":"图像目录","localized_name":"image_directory","name":"image_directory","type":"STRING","widget":{"name":"image_directory"},"link":null},{"label":"保存目录","localized_name":"save_directory","name":"save_directory","type":"STRING","widget":{"name":"save_directory"},"link":null},{"label":"缩放因子","localized_name":"scale_factor","name":"scale_factor","type":"FLOAT","widget":{"name":"scale_factor"},"link":null},{"label":"缩放模式","localized_name":"resize_mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"label":"目标宽度","localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":null},{"label":"目标高度","localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":null},{"label":"重采样过滤器","localized_name":"resampling_filter","name":"resampling_filter","type":"COMBO","widget":{"name":"resampling_filter"},"link":null}],"outputs":[{"label":"处理结果信息","localized_name":"result_info","name":"result_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"BatchImageScalerNode"},"widgets_values":["","",1,"按比例缩放",512,512,"LANCZOS"]},{"id":793,"type":"CreateImageNode","pos":[-2797.568163505256,3882.8827260952175],"size":[270,106],"flags":{},"order":90,"mode":4,"inputs":[{"label":"图像宽度","localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"label":"图像高度","localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"label":"图像颜色","localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"label":"生成的图像","localized_name":"image","name":"image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"CreateImageNode"},"widgets_values":[512,512,"#FFFFFF"]},{"id":927,"type":"OllamaConnectivityRefactored","pos":[-4201.826930706648,4850.220536174197],"size":[270,202],"flags":{},"order":91,"mode":4,"inputs":[{"label":"服务器地址","localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"label":"模型名称","localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","type":"INT","widget":{"name":"timeout"},"link":null},{"label":"保持活跃","localized_name":"keep_alive","name":"keep_alive","type":"INT","widget":{"name":"keep_alive"},"link":null},{"label":"保持活跃单位","localized_name":"keep_alive_unit","name":"keep_alive_unit","type":"COMBO","widget":{"name":"keep_alive_unit"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"connection","name":"connection","type":"OLLAMA_CONNECTIVITY","links":null}],"properties":{"Node name for S&R":"OllamaConnectivityRefactored"},"widgets_values":["http://127.0.0.1:11434",null,30,5,"minutes",887570176,"randomize"]},{"id":926,"type":"OllamaOptionsRefactored","pos":[-3896.88655006239,4846.808670284204],"size":[419.10204899814744,754],"flags":{},"order":92,"mode":4,"inputs":[{"label":"启用 Mirostat 采样","localized_name":"enable_mirostat","name":"enable_mirostat","type":"BOOLEAN","widget":{"name":"enable_mirostat"},"link":null},{"label":"Mirostat 采样","localized_name":"mirostat","name":"mirostat","type":"INT","widget":{"name":"mirostat"},"link":null},{"label":"启用 Mirostat ETA","localized_name":"enable_mirostat_eta","name":"enable_mirostat_eta","type":"BOOLEAN","widget":{"name":"enable_mirostat_eta"},"link":null},{"label":"Mirostat ETA","localized_name":"mirostat_eta","name":"mirostat_eta","type":"FLOAT","widget":{"name":"mirostat_eta"},"link":null},{"label":"启用 Mirostat TAU","localized_name":"enable_mirostat_tau","name":"enable_mirostat_tau","type":"BOOLEAN","widget":{"name":"enable_mirostat_tau"},"link":null},{"label":"Mirostat TAU","localized_name":"mirostat_tau","name":"mirostat_tau","type":"FLOAT","widget":{"name":"mirostat_tau"},"link":null},{"label":"启用上下文长度","localized_name":"enable_num_ctx","name":"enable_num_ctx","type":"BOOLEAN","widget":{"name":"enable_num_ctx"},"link":null},{"label":"上下文长度","localized_name":"num_ctx","name":"num_ctx","type":"INT","widget":{"name":"num_ctx"},"link":null},{"label":"启用重复惩罚回溯长度","localized_name":"enable_repeat_last_n","name":"enable_repeat_last_n","type":"BOOLEAN","widget":{"name":"enable_repeat_last_n"},"link":null},{"label":"重复惩罚回溯长度","localized_name":"repeat_last_n","name":"repeat_last_n","type":"INT","widget":{"name":"repeat_last_n"},"link":null},{"label":"启用重复惩罚因子","localized_name":"enable_repeat_penalty","name":"enable_repeat_penalty","type":"BOOLEAN","widget":{"name":"enable_repeat_penalty"},"link":null},{"label":"重复惩罚因子","localized_name":"repeat_penalty","name":"repeat_penalty","type":"FLOAT","widget":{"name":"repeat_penalty"},"link":null},{"label":"启用温度系数","localized_name":"enable_temperature","name":"enable_temperature","type":"BOOLEAN","widget":{"name":"enable_temperature"},"link":null},{"label":"温度系数","localized_name":"temperature","name":"temperature","type":"FLOAT","widget":{"name":"temperature"},"link":null},{"label":"启用随机种子","localized_name":"enable_seed","name":"enable_seed","type":"BOOLEAN","widget":{"name":"enable_seed"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"label":"启用停止词","localized_name":"enable_stop","name":"enable_stop","type":"BOOLEAN","widget":{"name":"enable_stop"},"link":null},{"label":"停止词","localized_name":"stop","name":"stop","type":"STRING","widget":{"name":"stop"},"link":null},{"label":"启用 TFS-Z","localized_name":"enable_tfs_z","name":"enable_tfs_z","type":"BOOLEAN","widget":{"name":"enable_tfs_z"},"link":null},{"label":"TFS-Z","localized_name":"tfs_z","name":"tfs_z","type":"FLOAT","widget":{"name":"tfs_z"},"link":null},{"label":"启用最大预测词数","localized_name":"enable_num_predict","name":"enable_num_predict","type":"BOOLEAN","widget":{"name":"enable_num_predict"},"link":null},{"label":"预测词数","localized_name":"num_predict","name":"num_predict","type":"INT","widget":{"name":"num_predict"},"link":null},{"label":"启用 Top-K","localized_name":"enable_top_k","name":"enable_top_k","type":"BOOLEAN","widget":{"name":"enable_top_k"},"link":null},{"label":"Top-K","localized_name":"top_k","name":"top_k","type":"INT","widget":{"name":"top_k"},"link":null},{"label":"启用 Top-P","localized_name":"enable_top_p","name":"enable_top_p","type":"BOOLEAN","widget":{"name":"enable_top_p"},"link":null},{"label":"Top-P","localized_name":"top_p","name":"top_p","type":"FLOAT","widget":{"name":"top_p"},"link":null},{"label":"启用 Min-P","localized_name":"enable_min_p","name":"enable_min_p","type":"BOOLEAN","widget":{"name":"enable_min_p"},"link":null},{"label":"Min-P","localized_name":"min_p","name":"min_p","type":"FLOAT","widget":{"name":"min_p"},"link":null},{"label":"调试模式","localized_name":"debug","name":"debug","type":"BOOLEAN","widget":{"name":"debug"},"link":null}],"outputs":[{"label":"Ollama选项","localized_name":"options","name":"options","type":"OLLAMA_OPTIONS","links":null}],"properties":{"Node name for S&R":"OllamaOptionsRefactored"},"widgets_values":[false,0,false,0.1,false,5,false,2048,false,64,false,1.1,false,0.8,false,1131018977,"randomize",false,"",false,1,false,128,false,40,false,0.9,false,0,false]},{"id":928,"type":"OllamaGenerateRefactored","pos":[-3436.4420955418504,4852.786943378808],"size":[400,366],"flags":{},"order":93,"mode":4,"inputs":[{"label":"连接配置","localized_name":"connectivity","name":"connectivity","shape":7,"type":"OLLAMA_CONNECTIVITY","link":null},{"label":"选项配置","localized_name":"options","name":"options","shape":7,"type":"OLLAMA_OPTIONS","link":null},{"label":"输入图像","localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"label":"元数据","localized_name":"meta","name":"meta","shape":7,"type":"OLLAMA_META","link":null},{"label":"历史记录","localized_name":"history","name":"history","shape":7,"type":"OLLAMA_HISTORY","link":null},{"label":"系统提示词","localized_name":"system","name":"system","type":"STRING","widget":{"name":"system"},"link":null},{"label":"用户提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"label":"思考模式","localized_name":"think","name":"think","type":"BOOLEAN","widget":{"name":"think"},"link":null},{"label":"输出格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"验证连接","localized_name":"validate_connection","name":"validate_connection","type":"BOOLEAN","widget":{"name":"validate_connection"},"link":null},{"label":"重新连接","localized_name":"reconnect","name":"reconnect","type":"BOOLEAN","widget":{"name":"reconnect"},"link":null},{"label":"重置会话","localized_name":"reset_session","name":"reset_session","shape":7,"type":"BOOLEAN","widget":{"name":"reset_session"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","shape":7,"type":"INT","widget":{"name":"timeout"},"link":null}],"outputs":[{"localized_name":"result","name":"result","type":"STRING","links":null},{"localized_name":"thinking","name":"thinking","type":"STRING","links":null},{"label":"元数据","localized_name":"meta","name":"meta","type":"OLLAMA_META","links":null},{"localized_name":"history","name":"history","type":"OLLAMA_HISTORY","links":null}],"properties":{"Node name for S&R":"OllamaGenerateRefactored"},"widgets_values":["你是一个有用的AI助手。","请介绍一下人工智能技术的发展现状。",false,"text",true,false,false,300]},{"id":929,"type":"OllamaChatRefactored","pos":[-3005.349603564822,4842.778019840183],"size":[400,366],"flags":{},"order":94,"mode":4,"inputs":[{"label":"连接配置","localized_name":"connectivity","name":"connectivity","shape":7,"type":"OLLAMA_CONNECTIVITY","link":null},{"label":"选项配置","localized_name":"options","name":"options","shape":7,"type":"OLLAMA_OPTIONS","link":null},{"label":"输入图像","localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"label":"元数据","localized_name":"meta","name":"meta","shape":7,"type":"OLLAMA_META","link":null},{"label":"历史记录","localized_name":"history","name":"history","shape":7,"type":"OLLAMA_HISTORY","link":null},{"label":"系统提示词","localized_name":"system","name":"system","type":"STRING","widget":{"name":"system"},"link":null},{"label":"用户提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"label":"思考模式","localized_name":"think","name":"think","type":"BOOLEAN","widget":{"name":"think"},"link":null},{"label":"输出格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"验证连接","localized_name":"validate_connection","name":"validate_connection","type":"BOOLEAN","widget":{"name":"validate_connection"},"link":null},{"label":"重新连接","localized_name":"reconnect","name":"reconnect","type":"BOOLEAN","widget":{"name":"reconnect"},"link":null},{"label":"重置会话","localized_name":"reset_session","name":"reset_session","shape":7,"type":"BOOLEAN","widget":{"name":"reset_session"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","shape":7,"type":"INT","widget":{"name":"timeout"},"link":null}],"outputs":[{"label":"模型响应结果","localized_name":"result","name":"result","type":"STRING","links":null},{"label":"思考过程","localized_name":"thinking","name":"thinking","type":"STRING","links":null},{"label":"元数据","localized_name":"meta","name":"meta","type":"OLLAMA_META","links":null},{"label":"对话历史","localized_name":"history","name":"history","type":"OLLAMA_HISTORY","links":null}],"properties":{"Node name for S&R":"OllamaChatRefactored"},"widgets_values":["You are a helpful AI assistant.","Hello, how can you help me today?",false,"text",false,false,false,300]},{"id":902,"type":"ExtractFrameFromVideoNode","pos":[-3080.0715895285957,2637.81641898833],"size":[300.072265625,803.12646484375],"flags":{},"order":95,"mode":4,"inputs":[{"label":"视频文件","localized_name":"video_file","name":"video_file","type":"COMBO","widget":{"name":"video_file"},"link":null},{"label":"提取方式","localized_name":"frame_extraction_method","name":"frame_extraction_method","type":"COMBO","widget":{"name":"frame_extraction_method"},"link":null},{"label":"帧号","localized_name":"frame_number","name":"frame_number","type":"INT","widget":{"name":"frame_number"},"link":null},{"label":"时间戳（秒）","localized_name":"timestamp","name":"timestamp","type":"FLOAT","widget":{"name":"timestamp"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图片质量","localized_name":"image_quality","name":"image_quality","type":"INT","widget":{"name":"image_quality"},"link":null},{"label":"输出文件名","localized_name":"output_filename","name":"output_filename","shape":7,"type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"图像路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null},{"label":"帧索引","localized_name":"frame_index","name":"frame_index","type":"INT","links":null},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"Node name for S&R":"ExtractFrameFromVideoNode"},"widgets_values":["20251021-1.mp4","frame_number",1,0,"png",100,"","image"]},{"id":901,"type":"BatchExtractFrameFromVideoNode","pos":[-2762.708082881853,2637.1587778979006],"size":[304.759765625,314],"flags":{},"order":96,"mode":4,"inputs":[{"label":"文件夹选择模式","localized_name":"folder_selection_mode","name":"folder_selection_mode","type":"COMBO","widget":{"name":"folder_selection_mode"},"link":null},{"label":"视频文件夹","localized_name":"video_folder","name":"video_folder","type":"COMBO","widget":{"name":"video_folder"},"link":null},{"label":"自定义视频文件夹路径","localized_name":"custom_video_folder_path","name":"custom_video_folder_path","type":"STRING","widget":{"name":"custom_video_folder_path"},"link":null},{"label":"提取方式","localized_name":"frame_extraction_method","name":"frame_extraction_method","type":"COMBO","widget":{"name":"frame_extraction_method"},"link":null},{"label":"帧号","localized_name":"frame_number","name":"frame_number","type":"INT","widget":{"name":"frame_number"},"link":null},{"label":"时间戳（秒）","localized_name":"timestamp","name":"timestamp","type":"FLOAT","widget":{"name":"timestamp"},"link":null},{"label":"输出格式","localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null},{"label":"图片质量","localized_name":"image_quality","name":"image_quality","type":"INT","widget":{"name":"image_quality"},"link":null},{"label":"输出文件名前缀","localized_name":"output_filename_prefix","name":"output_filename_prefix","shape":7,"type":"STRING","widget":{"name":"output_filename_prefix"},"link":null},{"label":"输出文件夹路径","localized_name":"output_folder","name":"output_folder","shape":7,"type":"STRING","widget":{"name":"output_folder"},"link":null}],"outputs":[{"label":"图像路径列表","localized_name":"image_paths","name":"image_paths","type":"STRING","links":[]},{"label":"帧索引列表","localized_name":"frame_indices","name":"frame_indices","type":"INT","links":[]},{"label":"状态信息","localized_name":"status_message","name":"status_message","type":"STRING","links":[]}],"properties":{"Node name for S&R":"BatchExtractFrameFromVideoNode"},"widgets_values":["custom_path","video","","frame_number",1,0,"png",100,"batch_frame",""]},{"id":71,"type":"MarkdownNote","pos":[-2334.840146367474,-116.73282622877115],"size":[649.8364953234372,200.8205136703241],"flags":{},"order":97,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# xnan工具使用说明（调试中）\n## 左边是节点列表，右边是一些连接使用。\n\n## 正常来说插件都是正常使用的，如果遇到插件红色，重新添加即可。"],"color":"#432","bgcolor":"#653"},{"id":984,"type":"ModelscopeApiTextGenerationNode","pos":[-4161.8385189056025,1437.058654729409],"size":[400,262],"flags":{},"order":98,"mode":4,"inputs":[{"label":"提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"模型名称","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"label":"系统提示词","localized_name":"system_prompt","name":"system_prompt","shape":7,"type":"STRING","widget":{"name":"system_prompt"},"link":null},{"localized_name":"最大令牌数","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"温度系数","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"Top P","name":"top_p","shape":7,"type":"FLOAT","widget":{"name":"top_p"},"link":null}],"outputs":[{"localized_name":"生成文本","name":"生成文本","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiTextGenerationNode"},"widgets_values":["请生成一段关于人工智能的文本","","Qwen/Qwen3-VL-235B-A22B-Instruct","你是一个有帮助的AI助手",1000,0.7,0.9]},{"id":985,"type":"ModelscopeApiImageCaptionNode","pos":[-3739.492161376613,1440.10443041504],"size":[400,200],"flags":{},"order":99,"mode":4,"inputs":[{"label":"输入图像","localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"model_name","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"localized_name":"prompt","name":"prompt","shape":7,"type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"max_tokens","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null}],"outputs":[{"localized_name":"图片描述","name":"图片描述","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiImageCaptionNode"},"widgets_values":["","Qwen/Qwen3-VL-235B-A22B-Instruct","详细描述这张图片的内容，包括主体、背景、颜色、风格等信息",1000,0.7]},{"id":986,"type":"ModelscopeApiVideoCaptionNode","pos":[-3309.0235763057462,1439.0891775334082],"size":[400,200],"flags":{},"order":100,"mode":4,"inputs":[{"localized_name":"video_frames","name":"video_frames","type":"IMAGE","link":null},{"localized_name":"API令牌","name":"api_token","type":"STRING","widget":{"name":"api_token"},"link":null},{"localized_name":"model_name","name":"model_name","type":"STRING","widget":{"name":"model_name"},"link":null},{"localized_name":"prompt","name":"prompt","shape":7,"type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"max_tokens","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null}],"outputs":[{"localized_name":"视频描述","name":"视频描述","type":"STRING","links":null}],"properties":{"Node name for S&R":"ModelscopeApiVideoCaptionNode"},"widgets_values":["","Qwen/Qwen3-VL-235B-A22B-Instruct","请详细描述这个视频的内容，包括场景、动作、主体、背景等信息",1000,0.7]},{"id":988,"type":"ImageEncodingGenerationNoConvertNode","pos":[-1180.1786589422616,5928.324280561356],"size":[400,200],"flags":{},"order":101,"mode":4,"inputs":[{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null}],"outputs":[{"label":"生成的UUID","localized_name":"uuid","name":"uuid","type":"STRING","links":null},{"label":"MD5哈希值","localized_name":"md5","name":"md5","type":"STRING","links":null},{"label":"SHA1哈希值","localized_name":"sha1","name":"sha1","type":"STRING","links":null},{"label":"SHA256哈希值","localized_name":"sha256","name":"sha256","type":"STRING","links":null},{"label":"SHA512哈希值","localized_name":"sha512","name":"sha512","type":"STRING","links":null},{"label":"图片信息","localized_name":"image_info","name":"image_info","type":"STRING","links":null}],"properties":{"Node name for S&R":"ImageEncodingGenerationNoConvertNode"},"widgets_values":[""]},{"id":993,"type":"BatchLoadImagesNode","pos":[-891.1685461938465,6279.929333495138],"size":[270,170],"flags":{},"order":102,"mode":4,"inputs":[{"label":"加载模式","localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null},{"label":"图片索引","localized_name":"index","name":"index","shape":7,"type":"INT","widget":{"name":"index"},"link":null},{"label":"最大图片数量","localized_name":"max_images","name":"max_images","shape":7,"type":"INT","widget":{"name":"max_images"},"link":null}],"outputs":[{"label":"图片张量","localized_name":"images","name":"images","type":"IMAGE","links":null},{"label":"文件名列表","localized_name":"filenames","name":"filenames","type":"STRING","links":null},{"label":"图片数量","localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"Node name for S&R":"BatchLoadImagesNode"},"widgets_values":["加载全部","",0,100]},{"id":991,"type":"LoadImageNode","pos":[-1196.7606519277733,6292.112368074724],"size":[270,102],"flags":{},"order":103,"mode":4,"inputs":[{"label":"图像文件","localized_name":"image_file","name":"image_file","type":"COMBO","widget":{"name":"image_file"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"图像路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"LoadImageNode"},"widgets_values":["undefined","image"]},{"id":992,"type":"LoadImagePathNode","pos":[-579.950836087666,6279.929299413669],"size":[400,200],"flags":{},"order":104,"mode":4,"inputs":[{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","widget":{"name":"image_path"},"link":null}],"outputs":[{"label":"图像","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"图片路径","localized_name":"image_path","name":"image_path","type":"STRING","links":null}],"properties":{"Node name for S&R":"LoadImagePathNode"},"widgets_values":[""]},{"id":995,"type":"OllamaConnectivityRefactored","pos":[-1235.218686023759,6637.571400402743],"size":[270,202],"flags":{},"order":105,"mode":4,"inputs":[{"label":"服务器地址","localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"label":"模型名称","localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","type":"INT","widget":{"name":"timeout"},"link":null},{"label":"保持活跃","localized_name":"keep_alive","name":"keep_alive","type":"INT","widget":{"name":"keep_alive"},"link":null},{"label":"保持活跃单位","localized_name":"keep_alive_unit","name":"keep_alive_unit","type":"COMBO","widget":{"name":"keep_alive_unit"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"connection","name":"connection","type":"OLLAMA_CONNECTIVITY","links":[792,794]}],"properties":{"Node name for S&R":"OllamaConnectivityRefactored"},"widgets_values":["http://127.0.0.1:11434",null,30,5,"minutes",1092859501,"randomize"]},{"id":994,"type":"OllamaOptionsRefactored","pos":[-1242.8966382736214,6901.947426240817],"size":[286.103515625,754],"flags":{},"order":106,"mode":4,"inputs":[{"label":"启用 Mirostat 采样","localized_name":"enable_mirostat","name":"enable_mirostat","type":"BOOLEAN","widget":{"name":"enable_mirostat"},"link":null},{"label":"Mirostat 采样","localized_name":"mirostat","name":"mirostat","type":"INT","widget":{"name":"mirostat"},"link":null},{"label":"启用 Mirostat ETA","localized_name":"enable_mirostat_eta","name":"enable_mirostat_eta","type":"BOOLEAN","widget":{"name":"enable_mirostat_eta"},"link":null},{"label":"Mirostat ETA","localized_name":"mirostat_eta","name":"mirostat_eta","type":"FLOAT","widget":{"name":"mirostat_eta"},"link":null},{"label":"启用 Mirostat TAU","localized_name":"enable_mirostat_tau","name":"enable_mirostat_tau","type":"BOOLEAN","widget":{"name":"enable_mirostat_tau"},"link":null},{"label":"Mirostat TAU","localized_name":"mirostat_tau","name":"mirostat_tau","type":"FLOAT","widget":{"name":"mirostat_tau"},"link":null},{"label":"启用上下文长度","localized_name":"enable_num_ctx","name":"enable_num_ctx","type":"BOOLEAN","widget":{"name":"enable_num_ctx"},"link":null},{"label":"上下文长度","localized_name":"num_ctx","name":"num_ctx","type":"INT","widget":{"name":"num_ctx"},"link":null},{"label":"启用重复惩罚回溯长度","localized_name":"enable_repeat_last_n","name":"enable_repeat_last_n","type":"BOOLEAN","widget":{"name":"enable_repeat_last_n"},"link":null},{"label":"重复惩罚回溯长度","localized_name":"repeat_last_n","name":"repeat_last_n","type":"INT","widget":{"name":"repeat_last_n"},"link":null},{"label":"启用重复惩罚因子","localized_name":"enable_repeat_penalty","name":"enable_repeat_penalty","type":"BOOLEAN","widget":{"name":"enable_repeat_penalty"},"link":null},{"label":"重复惩罚因子","localized_name":"repeat_penalty","name":"repeat_penalty","type":"FLOAT","widget":{"name":"repeat_penalty"},"link":null},{"label":"启用温度系数","localized_name":"enable_temperature","name":"enable_temperature","type":"BOOLEAN","widget":{"name":"enable_temperature"},"link":null},{"label":"温度系数","localized_name":"temperature","name":"temperature","type":"FLOAT","widget":{"name":"temperature"},"link":null},{"label":"启用随机种子","localized_name":"enable_seed","name":"enable_seed","type":"BOOLEAN","widget":{"name":"enable_seed"},"link":null},{"label":"随机种子","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"label":"启用停止词","localized_name":"enable_stop","name":"enable_stop","type":"BOOLEAN","widget":{"name":"enable_stop"},"link":null},{"label":"停止词","localized_name":"stop","name":"stop","type":"STRING","widget":{"name":"stop"},"link":null},{"label":"启用 TFS-Z","localized_name":"enable_tfs_z","name":"enable_tfs_z","type":"BOOLEAN","widget":{"name":"enable_tfs_z"},"link":null},{"label":"TFS-Z","localized_name":"tfs_z","name":"tfs_z","type":"FLOAT","widget":{"name":"tfs_z"},"link":null},{"label":"启用最大预测词数","localized_name":"enable_num_predict","name":"enable_num_predict","type":"BOOLEAN","widget":{"name":"enable_num_predict"},"link":null},{"label":"预测词数","localized_name":"num_predict","name":"num_predict","type":"INT","widget":{"name":"num_predict"},"link":null},{"label":"启用 Top-K","localized_name":"enable_top_k","name":"enable_top_k","type":"BOOLEAN","widget":{"name":"enable_top_k"},"link":null},{"label":"Top-K","localized_name":"top_k","name":"top_k","type":"INT","widget":{"name":"top_k"},"link":null},{"label":"启用 Top-P","localized_name":"enable_top_p","name":"enable_top_p","type":"BOOLEAN","widget":{"name":"enable_top_p"},"link":null},{"label":"Top-P","localized_name":"top_p","name":"top_p","type":"FLOAT","widget":{"name":"top_p"},"link":null},{"label":"启用 Min-P","localized_name":"enable_min_p","name":"enable_min_p","type":"BOOLEAN","widget":{"name":"enable_min_p"},"link":null},{"label":"Min-P","localized_name":"min_p","name":"min_p","type":"FLOAT","widget":{"name":"min_p"},"link":null},{"label":"调试模式","localized_name":"debug","name":"debug","type":"BOOLEAN","widget":{"name":"debug"},"link":null}],"outputs":[{"label":"Ollama选项","localized_name":"options","name":"options","type":"OLLAMA_OPTIONS","links":[793,795]}],"properties":{"Node name for S&R":"OllamaOptionsRefactored"},"widgets_values":[false,0,false,0.1,false,5,false,2048,false,64,false,1.1,false,0.8,false,239083543,"randomize",false,"",false,1,false,128,false,40,false,0.9,false,0,false]},{"id":997,"type":"OllamaChatRefactored","pos":[-904.7668126276654,7075.807088558943],"size":[400,366],"flags":{},"order":135,"mode":4,"inputs":[{"label":"连接配置","localized_name":"connectivity","name":"connectivity","shape":7,"type":"OLLAMA_CONNECTIVITY","link":794},{"label":"选项配置","localized_name":"options","name":"options","shape":7,"type":"OLLAMA_OPTIONS","link":793},{"label":"输入图像","localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"label":"元数据","localized_name":"meta","name":"meta","shape":7,"type":"OLLAMA_META","link":null},{"label":"历史记录","localized_name":"history","name":"history","shape":7,"type":"OLLAMA_HISTORY","link":null},{"label":"系统提示词","localized_name":"system","name":"system","type":"STRING","widget":{"name":"system"},"link":null},{"label":"用户提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"label":"思考模式","localized_name":"think","name":"think","type":"BOOLEAN","widget":{"name":"think"},"link":null},{"label":"输出格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"验证连接","localized_name":"validate_connection","name":"validate_connection","type":"BOOLEAN","widget":{"name":"validate_connection"},"link":null},{"label":"重新连接","localized_name":"reconnect","name":"reconnect","type":"BOOLEAN","widget":{"name":"reconnect"},"link":null},{"label":"重置会话","localized_name":"reset_session","name":"reset_session","shape":7,"type":"BOOLEAN","widget":{"name":"reset_session"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","shape":7,"type":"INT","widget":{"name":"timeout"},"link":null}],"outputs":[{"label":"模型响应结果","localized_name":"result","name":"result","type":"STRING","links":null},{"label":"思考过程","localized_name":"thinking","name":"thinking","type":"STRING","links":null},{"label":"元数据","localized_name":"meta","name":"meta","type":"OLLAMA_META","links":null},{"label":"对话历史","localized_name":"history","name":"history","type":"OLLAMA_HISTORY","links":null}],"properties":{"Node name for S&R":"OllamaChatRefactored"},"widgets_values":["你是一个有用的AI助手。","你好，今天我能帮上你什么忙吗？",false,"text",false,false,false,300]},{"id":996,"type":"OllamaGenerateRefactored","pos":[-915.2586994771973,6645.819565576047],"size":[400,366],"flags":{},"order":136,"mode":4,"inputs":[{"label":"连接配置","localized_name":"connectivity","name":"connectivity","shape":7,"type":"OLLAMA_CONNECTIVITY","link":792},{"label":"选项配置","localized_name":"options","name":"options","shape":7,"type":"OLLAMA_OPTIONS","link":795},{"label":"输入图像","localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":null},{"label":"元数据","localized_name":"meta","name":"meta","shape":7,"type":"OLLAMA_META","link":null},{"label":"历史记录","localized_name":"history","name":"history","shape":7,"type":"OLLAMA_HISTORY","link":null},{"label":"系统提示词","localized_name":"system","name":"system","type":"STRING","widget":{"name":"system"},"link":null},{"label":"用户提示词","localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"label":"思考模式","localized_name":"think","name":"think","type":"BOOLEAN","widget":{"name":"think"},"link":null},{"label":"输出格式","localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"label":"验证连接","localized_name":"validate_connection","name":"validate_connection","type":"BOOLEAN","widget":{"name":"validate_connection"},"link":null},{"label":"重新连接","localized_name":"reconnect","name":"reconnect","type":"BOOLEAN","widget":{"name":"reconnect"},"link":null},{"label":"重置会话","localized_name":"reset_session","name":"reset_session","shape":7,"type":"BOOLEAN","widget":{"name":"reset_session"},"link":null},{"label":"超时时间","localized_name":"timeout","name":"timeout","shape":7,"type":"INT","widget":{"name":"timeout"},"link":null}],"outputs":[{"localized_name":"result","name":"result","type":"STRING","links":null},{"localized_name":"thinking","name":"thinking","type":"STRING","links":null},{"label":"元数据","localized_name":"meta","name":"meta","type":"OLLAMA_META","links":null},{"localized_name":"history","name":"history","type":"OLLAMA_HISTORY","links":null}],"properties":{"Node name for S&R":"OllamaGenerateRefactored"},"widgets_values":["你是一个有用的AI助手。","请介绍一下人工智能技术的发展现状。",false,"text",true,false,false,300]},{"id":1001,"type":"VersionInfoNode","pos":[938.4617677866033,4713.210703139776],"size":[270,58],"flags":{},"order":107,"mode":0,"inputs":[{"label":"虚拟输入","localized_name":"dummy_input","name":"dummy_input","type":"STRING","widget":{"name":"dummy_input"},"link":null}],"outputs":[{"label":"版本信息","localized_name":"version_info","name":"version_info","type":"STRING","links":[798]}],"properties":{"Node name for S&R":"VersionInfoNode"},"widgets_values":["version_check"]},{"id":1002,"type":"PreviewAny","pos":[1247.829710901685,4714.456380404406],"size":[210,88],"flags":{},"order":137,"mode":0,"inputs":[{"localized_name":"源","name":"source","type":"*","link":798}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]}],"links":[[381,398,0,397,0,"YOLO_MODEL"],[404,397,0,414,0,"IMAGE"],[405,397,1,414,1,"JSON"],[406,414,0,411,0,"IMAGE"],[407,414,1,415,0,"MASK"],[408,415,0,416,0,"IMAGE"],[409,414,2,404,0,"*"],[410,414,3,406,0,"*"],[416,397,0,419,0,"IMAGE"],[417,397,1,419,1,"JSON"],[418,419,0,420,0,"IMAGE"],[419,419,1,421,0,"IMAGE"],[420,419,2,423,0,"IMAGE"],[421,419,3,422,0,"IMAGE"],[422,419,4,425,0,"IMAGE"],[432,436,0,434,0,"IMAGE"],[433,436,1,434,1,"JSON"],[434,436,0,435,0,"IMAGE"],[435,436,1,435,1,"JSON"],[436,438,0,439,0,"IMAGE"],[437,440,0,441,0,"IMAGE"],[438,442,0,443,0,"IMAGE"],[439,444,0,445,0,"IMAGE"],[440,446,0,447,0,"IMAGE"],[441,448,0,397,1,"IMAGE"],[442,419,5,438,0,"MASK"],[443,419,6,440,0,"MASK"],[444,419,7,442,0,"MASK"],[445,419,8,444,0,"MASK"],[446,419,9,446,0,"MASK"],[447,419,10,405,0,"*"],[448,419,11,407,0,"*"],[450,453,0,451,0,"YOLO_MODEL"],[451,454,0,451,1,"SAM_MODEL"],[452,453,0,452,0,"YOLO_MODEL"],[454,451,0,456,0,"IMAGE"],[455,452,0,418,0,"IMAGE"],[458,451,2,400,0,"*"],[459,458,0,459,0,"IMAGE"],[460,451,1,458,0,"MASK"],[462,452,2,460,0,"*"],[463,452,1,399,0,"*"],[464,452,3,462,0,"*"],[465,452,5,463,0,"*"],[466,452,4,461,0,"*"],[469,451,1,466,0,"*"],[471,467,0,451,2,"IMAGE"],[472,467,0,452,1,"IMAGE"],[475,468,0,465,0,"IMAGE"],[483,468,0,467,0,"*"],[484,485,0,468,0,"IMAGE"],[485,488,0,487,0,"IMAGE"],[487,486,0,490,0,"*"],[488,486,1,491,0,"*"],[489,487,0,492,0,"IMAGE"],[490,487,1,493,0,"*"],[491,487,2,494,0,"*"],[597,686,0,680,0,"IMAGE"],[598,680,0,687,0,"IMAGE"],[599,680,1,689,0,"*"],[600,680,2,688,0,"*"],[601,681,0,692,0,"IMAGE"],[602,695,0,679,0,"*"],[603,696,0,679,1,"*"],[604,679,0,697,0,"*"],[614,715,0,718,0,"STRING"],[615,715,1,719,0,"STRING"],[616,715,2,714,0,"IMAGE"],[617,716,0,708,0,"STRING"],[621,483,0,729,0,"IMAGE"],[625,729,0,482,0,"IMAGE"],[630,740,0,738,0,"STRING"],[631,740,1,741,0,"STRING"],[647,737,0,740,0,"IMAGE"],[648,740,2,775,0,"STRING"],[649,740,3,774,0,"STRING"],[650,740,4,772,0,"STRING"],[651,740,5,776,0,"STRING"],[652,721,0,780,0,"IMAGE"],[654,780,0,707,0,"STRING"],[655,768,0,782,0,"IMAGE"],[656,769,0,782,1,"IMAGE"],[657,768,0,781,0,"IMAGE"],[658,769,0,781,1,"IMAGE"],[659,788,0,805,0,"STRING"],[660,806,0,786,0,"IMAGE"],[662,786,0,809,0,"STRING"],[663,787,0,810,0,"STRING"],[664,814,0,811,0,"IMAGE"],[665,811,0,815,0,"IMAGE"],[693,862,0,863,0,"IMAGE"],[695,857,0,729,2,"STRING"],[697,860,0,862,3,"STRING"],[708,867,0,868,0,"STRING"],[709,866,0,869,0,"STRING"],[710,857,0,862,1,"STRING"],[730,903,0,905,0,"IMAGE"],[792,995,0,996,0,"OLLAMA_CONNECTIVITY"],[793,994,0,997,1,"OLLAMA_OPTIONS"],[794,995,0,997,0,"OLLAMA_CONNECTIVITY"],[795,994,0,996,1,"OLLAMA_OPTIONS"],[798,1001,0,1002,0,"*"]],"groups":[{"id":7,"title":"sam模型加载器","bounding":[-3475.10009765625,-597.57666015625,801.8213500976562,550.3436279296875],"color":"#3f789e","font_size":24,"flags":{}},{"id":13,"title":"魔搭api  【9个】","bounding":[-4245.79541015625,762.1517944335938,1620.969482421875,967.4942016601562],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"魔搭api调用","bounding":[-3550.23095703125,819.2649536132812,859.913818359375,467.6053771972656],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"魔搭api-大模型管理","bounding":[-4235.79541015625,809.5751342773438,297.54638671875,344.7987365722656],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"预设-常见尺寸预设","bounding":[-4232.0625,1790.4019775390625,290,161.60000610351562],"color":"#3f789e","font_size":24,"flags":{}},{"id":14,"title":"yolo与sam  【11个】","bounding":[-4246.2470703125,-644.4920654296875,1620.2030029296875,1382.3955078125],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"yolo模型加载器","bounding":[-4236.2470703125,-600.89208984375,736.7703857421875,547.1361083984375],"color":"#3f789e","font_size":24,"flags":{}},{"id":15,"title":"yolo功能","bounding":[-4222.2373046875,-20.63671875,987.374755859375,714.8245849609375],"color":"#3f789e","font_size":24,"flags":{}},{"id":16,"title":"yolo检测裁切节点示例工作流","bounding":[-1289.6375732421875,-687.22509765625,2305.81201171875,1063.8873291015625],"color":"#3f789e","font_size":24,"flags":{}},{"id":17,"title":"魔搭api生图","bounding":[-1288.8895190493363,1351.0969207399717,1305.77880859375,1027.0391845703125],"color":"#3f789e","font_size":24,"flags":{}},{"id":18,"title":"yolo检测裁切一体化节点示例工作流","bounding":[-1281.85693359375,412.106201171875,2724.49462890625,909.63232421875],"color":"#3f789e","font_size":24,"flags":{}},{"id":19,"title":"尺寸预设","bounding":[-1273.1335334316732,2450.548215747005,623.831298828125,372.9544982910156],"color":"#3f789e","font_size":24,"flags":{}},{"id":20,"title":"正方形转换器","bounding":[-1241.9760742186877,4611.3503723143685,1113.753662109375,398.6849670410156],"color":"#3f789e","font_size":24,"flags":{}},{"id":21,"title":"yolo+sam搭配","bounding":[-3217.29345703125,-15.162109375,566.4487915039062,725.0841064453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":22,"title":"实用工具  【2个】-后续再分类-如果节点足够多，那就另起一个分类","bounding":[-4208.883307089096,4445.461012333811,798.1456909179688,290.1109619140625],"color":"#3f789e","font_size":24,"flags":{}},{"id":25,"title":"媒体处理  【6个】","bounding":[-4234.697265625,2540.6005859375,1809.4708414025617,971.2892337884418],"color":"#3f789e","font_size":24,"flags":{}},{"id":32,"title":"媒体处理","bounding":[-1270.694249965765,3562.0330464757303,2303.253670928771,922.9076238870211],"color":"#3f789e","font_size":24,"flags":{}},{"id":33,"title":"长方形转换器","bounding":[-1215.6715193840282,5034.154891215888,1105.2908935546875,402.9151916503906],"color":"#3f789e","font_size":24,"flags":{}},{"id":34,"title":"创建图像","bounding":[-88.17806036203997,5036.431358621346,461.8583984375,189.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":35,"title":"切换值节点","bounding":[-109.68737085131558,4611.901681042676,880.1958618164062,293.6323547363281],"color":"#3f789e","font_size":24,"flags":{}},{"id":36,"title":"图片视频提示词预设","bounding":[-4230.0947265625,1988.6844482421875,1104.111083984375,488.62744140625],"color":"#3f789e","font_size":24,"flags":{}},{"id":37,"title":"图片视频提示词预设","bounding":[396.477458315684,2436.131881434501,881.231201171875,1013.82421875],"color":"#3f789e","font_size":24,"flags":{}},{"id":38,"title":"魔搭api-lora管理","bounding":[-3908.946533203125,813.9592895507812,330.43359375,330.7311096191406],"color":"#3f789e","font_size":24,"flags":{}},{"id":39,"title":"计算图片uuid和哈希值","bounding":[-1205.7779137704335,5472.7574664627,1232.18798828125,705.1923732887662],"color":"#3f789e","font_size":24,"flags":{}},{"id":40,"title":"魔搭api生成式节点","bounding":[47.49772407200122,1355.5348118959782,1425.7122802734375,772.251220703125],"color":"#3f789e","font_size":24,"flags":{}},{"id":41,"title":"预设","bounding":[-4242.0625,1746.802001953125,2635.487548828125,782.40087890625],"color":"#3f789e","font_size":24,"flags":{}},{"id":42,"title":"图像处理  【13个】","bounding":[-4221.524173836592,3548.8514382874296,1703.6075527216472,860.7458008757035],"color":"#3f789e","font_size":24,"flags":{}},{"id":43,"title":"魔搭api生成式节点","bounding":[-4186.93017578125,1354.23681640625,1550.3118896484375,370.7636413574219],"color":"#3f789e","font_size":24,"flags":{}},{"id":44,"title":"图片格式转换","bounding":[46.213077734384555,5489.421871429112,782.059326171875,618.1024169921875],"color":"#3f789e","font_size":24,"flags":{}},{"id":45,"title":"随机提示词生成器组","bounding":[-496.9276282514147,2446.879625141912,845.5148315429688,815.9273071289062],"color":"#3f789e","font_size":24,"flags":{}},{"id":46,"title":"随机提示词生成器组","bounding":[-3109.568359375,1990.3382568359375,844.578369140625,507.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":47,"title":"ollama-需要先安装【comfyui-ollama】插件才能正常使用","bounding":[-4211.826930706648,4769.178019840183,1616.4773271418262,841.6306504440205],"color":"#3f789e","font_size":24,"flags":{}},{"id":49,"title":"预设","bounding":[-1283.1335334316732,2403.065187860369,2619.7438971413994,1087.6854689101592],"color":"#3f789e","font_size":24,"flags":{}},{"id":50,"title":"加载图片","bounding":[-1206.7606519277733,6206.329299413668,1036.8098158401076,283.6],"color":"#3f789e","font_size":24,"flags":{}},{"id":51,"title":"ollama","bounding":[-1252.8966382736214,6563.971400402743,758.1298256459555,1101.9760258380734],"color":"#3f789e","font_size":24,"flags":{}},{"id":52,"title":"图像处理","bounding":[-1251.9760742186877,4567.750372314368,2090.2484781249473,1932.1789270993],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.0834705943388703,"offset":[-239.03584275185415,-4376.923755910842]},"workflowRendererVersion":"LG"},"version":0.4}