# comfyui-xnantool 更新日志

这里记录了 comfyui-xnantool 插件的所有重要更新和功能增强。点击下方版本号可以展开查看详细内容。

<details>
<summary>v0.3.1 - 魔搭API模型配置优化版</summary>

## 📅 发布日期
2024年12月19日

## 🌟 版本亮点
- 🛠️ **魔搭API模型配置优化**：改进自定义模型配置文件管理，避免创建空配置文件
- 🧹 **配置文件清理**：优化配置文件保存逻辑，提升插件稳定性
- ⚡ **性能改进**：减少不必要的文件I/O操作，提高配置加载速度
- 📁 **预设管理器路径修复**：修复image_video_prompt_presets_node文件夹移动后的问题
- 🗂️ **节点目录结构重构**：优化节点组织结构，提高代码可维护性

## 📋 详细更新内容

### 🛠️ 魔搭API模型配置优化
- 优化 `save_model_config` 函数，仅在有自定义模型时才创建或更新 `modelscope_api_model_presets_custom.json` 文件
- 当没有自定义模型且配置文件存在时，自动删除空的配置文件
- 避免意外创建或覆盖用户自定义配置文件，提升配置管理的可靠性
- 改进魔搭API模型管理节点的删除功能，支持删除内置模型、预设模型和自定义模型

### 🧹 配置文件清理
- 优化配置文件保存逻辑，减少不必要的磁盘I/O操作
- 提高配置加载和保存的性能
- 增强配置文件管理的健壮性

### ⚡ 性能改进
- 减少配置文件操作时的系统资源占用
- 提升魔搭API相关节点的响应速度
- 优化内存使用，提高插件整体性能

### 📁 预设管理器路径修复
- 修复 `image_video_prompt_presets_node` 文件夹移动后导致的路径引用问题
- 更新 `image_video_prompt_presets_node.py` 文件中的路径引用，确保正确加载预设图片
- 确认 JSON 配置文件中的路径引用正确无误
- 优化预设图片加载逻辑，提高预设管理器的稳定性

### 🗂️ 节点目录结构重构
- 将图像处理相关节点移动到 `image_processing` 目录
- 将 YOLO 和 SAM 相关节点移动到 `yolo_sam` 目录
- 将预设相关节点和文件移动到 `preset_manager` 目录
- 统一节点分类路径命名规范，提高代码可维护性

### 🛠️ 模型配置保存逻辑优化
- 优化魔搭API模型配置保存逻辑，避免创建空配置文件
- 提高配置管理的稳定性和可靠性

### 📚 文档更新
- 更新 README 文档，添加批量加载图片节点使用说明
- 完善各节点的参数说明和使用文档


</details>

<details>
<summary>v0.3.0 - GIF功能增强与媒体处理优化版</summary>

## 📅 发布日期
2025年11月1日

## 🌟 版本亮点
- 🎞️ **GIF功能全面增强**：新增带过渡效果的图片转GIF节点V2版本，支持多种过渡效果
- 🎬 **媒体处理优化**：改进视频转GIF节点，提供更多自定义参数
- 🛠️ **实用工具扩展**：新增图片转GIF节点V1和V2，满足不同用户需求

## 📋 详细更新内容

### 🚀 功能增强
- **图片转GIF功能增强**
  - 新增图片转GIF节点V2版本，支持过渡效果（淡入淡出、滑动、擦除等）
  - 保留图片转GIF节点V1版本，满足不需要过渡效果的用户需求
  - 支持多种质量等级设置，满足不同文件大小和质量需求
  - 支持自定义输出文件名，避免文件名冲突自动重命名

- **视频转GIF节点优化**
  - 改进视频转GIF节点参数设置，提供更多自定义选项
  - 优化GIF生成质量，支持调色板大小和质量等级设置

### 🛠 优化改进
- 优化了图片转GIF节点的内部实现
- 改进了媒体处理节点的代码结构
- 提高了节点运行效率和稳定性

### 📖 文档更新
- 更新了README.md文档，添加了图片转GIF节点的使用说明
- 更新了update.md文档，完善各版本更新记录

## ⚠️ 重要变更
1. **新增图片转GIF节点**
   - 新增两个版本的图片转GIF节点，满足不同用户需求
   - V2版本支持过渡效果，V1版本保持简洁无过渡效果

## 📝 注意事项
1. 使用图片转GIF节点时请注意内存使用情况
2. 如遇到问题，请查看日志文件获取详细信息
3. 建议重启ComfyUI以确保所有更改生效

### 标签
#ComfyUI #AI绘画 #图像生成 #SDXL #Qwen #LoRA #工具插件 #AI创作 #版本更新 #GIF #媒体处理

</details>

<details>
<summary>v0.2.0 - 功能优化与新工具节点版</summary>

## 📅 发布日期
2025年10月28日

## 🌟 版本亮点
- 🔧 **模型管理优化**：简化魔搭API模型配置，移除显示名称，直接使用模型ID
- 🆕 **新增实用工具**：图片编码生成节点，支持UUID和多种哈希算法
- ⚡ **性能改进**：优化节点内部实现，提高运行效率

## 📋 详细更新内容

### 🚀 功能增强
- **魔搭API模型管理优化**
  - 移除了模型显示名称功能，配置文件中直接使用模型ID
  - 简化了模型选择器和管理节点的实现
  - 更新了相关文档说明

- **新增图片编码生成节点**
  - 支持生成UUID唯一标识符
  - 支持多种哈希算法（MD5、SHA1、SHA256、SHA512）
  - 可用于图片去重、验证等场景

### 🛠 优化改进
- 优化了魔搭API模型管理节点的内部实现
- 改进了LoRA模型管理节点的代码结构
- 提高了节点运行效率和稳定性

### 📖 文档更新
- 更新了README.md文档，添加了模型显示名称功能移除的说明
- 更新了update.md文档，完善各版本更新记录

## ⚠️ 重要变更
1. **模型显示名称功能移除**
   - 配置文件中不再支持模型显示名称，仅保留模型ID
   - 魔搭API模型管理节点不再需要显示名称参数
   - 请参考README.md中的说明更新您的配置文件

2. **兼容性说明**
   - 此版本与之前版本的配置文件不完全兼容
   - 建议备份现有配置后再升级

## 📝 注意事项
1. 升级后请检查您的模型配置文件是否需要更新
2. 如遇到问题，请查看日志文件获取详细信息
3. 建议重启ComfyUI以确保所有更改生效

### 标签
#ComfyUI #AI绘画 #图像生成 #SDXL #Qwen #LoRA #工具插件 #AI创作 #版本更新

</details>

<details>
<summary>v0.1.0 - 综合功能优化与稳定性提升版</summary>

## 📅 发布日期
2025年10月27日

## 🎯 版本亮点

### 🚀 性能优化与稳定性提升
- **全面优化插件性能**: 显著提升运行效率，减少资源占用
- **重构节点内部逻辑**: 增强稳定性，降低异常发生概率
- **改进错误处理机制**: 提供更清晰的错误提示，便于问题排查
- **优化内存管理**: 减少内存占用，提升整体性能表现

### 🛠️ 功能增强与完善
- **api文生图新增生图批次**: 支持批量生成图像，提高工作效率
- **编辑模型支持自动尺寸获取**: 简化操作流程，提升用户体验
- **增强YOLO目标检测节点功能**: 支持更多自定义参数，满足多样化需求
- **优化SAM分割节点性能**: 提高处理速度，改善分割效果
- **改进魔搭API节点的错误处理机制**: 提供更详细的错误信息和处理建议

### 🎨 实用工具扩展
- **新增图像处理实用工具节点**: 包括长方形转换器、切换值节点、创建图像节点等
- **完善各节点的参数说明和使用文档**: 补充使用示例和最佳实践
- **优化节点间数据传递效率**: 提升工作流整体运行速度

## 📝 详细更新内容

### 优化与改进

- ✅ 全面优化插件性能，提升运行效率
- ✅ 重构节点内部逻辑，增强稳定性
- ✅ 改进错误处理机制，提供更清晰的错误提示
- ✅ 优化内存管理，减少资源占用
- ✅ 完善文档说明，补充使用示例和最佳实践
- ✅ 修复多个已知问题，提升用户体验
- ✅ api文生图新增生图批次，编辑模型支持自动尺寸获取和自定义尺寸。
- ✅ 增强YOLO目标检测节点功能，支持更多自定义参数
- ✅ 优化SAM分割节点性能，提高处理速度
- ✅ 改进魔搭API节点的错误处理机制
- ✅ 新增图像处理实用工具节点
- ✅ 优化节点间数据传递效率
- ✅ 完善各节点的参数说明和使用文档
- ✅ 修复部分节点在特定条件下的异常问题


## ⚠️ 注意事项

1. 使用视频处理节点前请确保已安装ffmpeg
2. 部分节点可能需要较大的内存资源，请根据硬件配置合理使用
3. 如遇到问题，请查看ComfyUI日志获取详细错误信息
4. 模型显示名称功能已移除，直接使用模型ID进行操作

</details>

<details>
<summary>v0.0.3 - 媒体处理与实用工具增强版</summary>

## 📅 发布日期
2025年10月23日

## 🎯 版本亮点

### 🎬 媒体处理功能增强
- **视频转GIF节点**: 新增视频转GIF功能，支持自定义持续时间、帧率、缩放因子等参数
- **视频转音频节点**: 支持从视频中提取音频，支持MP3、WAV、AAC、FLAC等多种音频格式

### 🛠️ 实用工具扩展
- **长方形转换器节点**: 可将正方形图像转换为长方形图像，支持左右和上下方向扩展
- **切换值节点**: 支持在两个值之间动态切换，适用于多种数据类型
- **创建图像节点**: 可创建指定尺寸和颜色的图像，便于测试和占位

## 📝 详细更新内容

### 新增节点

#### 🎬 视频转GIF节点 (VideoToGifNode)
- **位置**: `XnanTool/媒体处理`
- **功能**: 将视频文件转换为GIF动画
- **输入参数**:
  - 视频文件: 选择要转换的视频文件
  - 持续时间: GIF的持续时间（0.1-60.0秒）
  - 帧率: GIF的帧率（1-30 FPS）
  - 缩放因子: 图像缩放比例（0.1-1.0）
  - 优化GIF: 是否优化GIF文件大小
  - 调色板大小: GIF的颜色数量（2-256）
  - 质量等级: GIF质量等级（1=低，2=中，3=高）
  - 输出文件名（可选）: 自定义GIF文件名
- **输出**: GIF文件路径

#### 🎵 视频转音频节点 (VideoToAudioNode)
- **位置**: `XnanTool/媒体处理`
- **功能**: 从视频文件中提取音频轨道并保存为音频文件
- **输入参数**:
  - 视频文件: 选择要提取音频的视频文件
  - 输出格式: 选择输出音频文件的格式（mp3, wav, aac, flac）
  - 音频质量: 选择输出音频的质量（high, medium, low）
  - 输出文件名（可选）: 自定义输出文件名
- **输出**: 音频文件路径和状态信息

#### 🟦 长方形转换器节点 (RectangleConverter)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 将正方形图像转换为长方形图像，支持左右和上下的扩展
- **输入参数**:
  - 图像: 输入图像
  - 扩展方向: 选择扩展方向（左右扩展或上下扩展）
  - 目标长度: 指定长边的目标长度
  - 边距: 在图像周围添加的额外边距
  - 填充颜色（可选）: 填充区域的颜色，支持十六进制颜色代码或'transparent'
- **输出**: 转换后的图像、宽度、高度

#### 🔀 切换值节点 (ToggleValueNode)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 可以在两个值之间切换的节点，支持多种数据类型输入
- **输入参数**:
  - 输入值: 布尔值，决定选择哪个输入值
  - 值A: 第一个可选值
  - 值B: 第二个可选值
- **输出**: 原始类型输出、字符串输出、整数输出、浮点输出

#### 🖼️ 创建图像节点 (CreateImageNode)
- **位置**: `XnanTool/实用工具/小工具`
- **功能**: 创建指定尺寸和颜色的图片
- **输入参数**:
  - 宽度: 图像宽度（1-8192像素）
  - 高度: 图像高度（1-8192像素）
  - 颜色: 图像颜色（十六进制颜色代码）
- **输出**: 创建的图像

### 优化与改进

- ✅ 优化部分节点的用户界面和参数描述，提升用户体验
- ✅ 修复已知问题，提升插件稳定性
- ✅ 完善节点文档说明，提供更多使用示例

## ⚠️ 注意事项

1. 使用视频处理节点前请确保已安装ffmpeg
2. 部分节点可能需要较大的内存资源，请根据硬件配置合理使用
3. 如遇到问题，请查看ComfyUI日志获取详细错误信息



</details>

<details>
<summary>v0.0.2 - 功能扩展与节点增强版</summary>

## 📅 发布日期
2025年10月13日

## ✨ 功能特性

### 🤖 modelscope-魔搭社区api在comfyui调用
- 📚 内置多种常用大模型支持
- 🔍 可视化查看和管理可用模型
- ➕ 支持添加自定义模型到预设列表
- 💾 配置自动保存，方便下次使用

### 🎨 支持LoRA 模型调用
- 🚀 支持多种基础模型的文生图功能
- 🎭 集成 LoRA 模型加载和权重调整，无需下载
- 🌐 通过魔搭 API 调用模型，参数灵活自定义
- 🎯 精准控制生成效果，满足个性化需求

### 📏 尺寸预设功能
- 🖼️ 提供 AI 生图常用尺寸的快速选择
- 📐 支持多种模型的推荐尺寸（SD 1.5、SDXL、Qwen-Image、Flux等）
- 📊 每个尺寸都标注了精确的比例信息
- ⚡ 一键应用，省去手动计算烦恼

### 🎯 YOLO目标检测与分割
- 🚀 完整集成YOLOv8系列模型支持
- 🔍 精确的目标检测与分类功能
- ✂️ 强大的图像分割能力
- 🤖 YOLO与SAM模型结合，实现更精确的分割效果

### 🧠 SAM智能分割功能
- 🎯 精确的图像分割能力
- 🔄 支持多种SAM模型变体（vit_h/l/b）
- 🧩 与YOLO检测结合实现智能背景去除

## 📋 节点列表

### 📏 尺寸预设-【新】 (SizeSelector)
- **位置**: `XnanTool/预设`
- **功能**: 从预设列表中选择图像尺寸
- **输入**: 预设名称
- **输出**: 宽度(width)、高度(height)
- **适用场景**: 快速选择常用的图像尺寸预设

### 🎨 魔搭API文生图节点 (modelscopeLoraTextToImageNode)
- **位置**: `XnanTool/modelscope-api`
- **功能**: 使用魔搭API的LoRA模型生成图像
- **输入**: 提示词、API Token、基础模型、LoRA模型等
- **输出**: 生成的图像(image)
- **适用场景**: 快速生成高质量的LoRA风格图像

### 🖌️ 魔搭API图像编辑节点 (modelscopeLoraImageEditNode)
- **位置**: `XnanTool/modelscope-api`
- **功能**: 使用魔搭API的LoRA模型编辑图像
- **输入**: 图像、提示词、API Token、基础模型、LoRA模型等
- **输出**: 编辑后的图像(image)
- **适用场景**: 对现有图像进行LoRA风格编辑

### 🚀 YOLO模型加载器 (v8预设)-【新】 (YoloModelLoader)
- **位置**: `XnanTool/YOLO`
- **功能**: 加载和配置YOLO目标检测模型
- **输入**: 模型名称、置信度阈值、IOU阈值、使用缓存选项等
- **输出**: YOLO模型(YOLO_MODEL)、模型信息(model_info)
- **适用场景**: 为检测任务准备YOLO模型

### 🚀 YOLO模型加载器V2(本地模型)-【新】 (YoloModelLoaderV2)
- **位置**: `XnanTool/YOLO`
- **功能**: 加载本地YOLO模型文件
- **输入**: 本地模型、置信度阈值、IOU阈值、使用缓存选项等
- **输出**: YOLO模型(YOLO_MODEL)、模型信息(model_info)
- **适用场景**: 使用本地存储的YOLO模型文件

### 🚀 YOLO模型加载器(自定义路径)-【新】 (YoloModelLoaderCustomPath)
- **位置**: `XnanTool/YOLO`
- **功能**: 从自定义路径加载YOLO模型
- **输入**: 模型完整路径、置信度阈值、IOU阈值、使用缓存选项等
- **输出**: YOLO模型(YOLO_MODEL)、模型信息(model_info)
- **适用场景**: 使用指定路径的YOLO模型文件

### 🎯 YOLO检测与裁剪一体化-【新】 (YoloDetectAndCropNode)
- **位置**: `XnanTool/YOLO`
- **功能**: 执行YOLO检测并裁剪图像
- **输入**: YOLO模型、图像、类别、置信度阈值、边界填充
- **输出**: 裁剪后的图像、检测结果、检测对象数量、裁剪信息、裁剪区域数量
- **适用场景**: 目标检测后自动裁剪感兴趣区域

### 🟦 正方形转换器-【新】 (SquareConverter)
- **位置**: `XnanTool/Image`
- **功能**: 将图像转换为正方形，保持图像比例不变
- **输入**: 图像(image)、边距(margin)、填充颜色(pad_color)
- **输出**: 正方形图像(image)、宽度(width)、高度(height)
- **适用场景**: 需要将非正方形图像转换为正方形，同时保持图像内容完整

### 🧠 SAM模型加载器（预设）-【新】 (SamModelLoader)
- **位置**: `XnanTool/SAM`
- **功能**: 加载预设的SAM模型
- **输入**: 模型类型、自动下载、使用缓存选项等
- **输出**: SAM模型(SAM_MODEL)、模型信息(model_info)
- **适用场景**: 使用预设的SAM模型进行图像分割

### 🧠 SAM模型加载器V2 (本地模型) -【新】(SamModelLoaderV2)
- **位置**: `XnanTool/SAM`
- **功能**: 加载本地SAM模型文件
- **输入**: 模型文件、使用缓存选项等
- **输出**: SAM模型(SAM_MODEL)、模型信息(model_info)
- **适用场景**: 使用本地存储的SAM模型文件

### 🧠 SAM模型加载器(自定义路径)-【新】 (SamModelLoaderCustomPath)
- **位置**: `XnanTool/SAM`
- **功能**: 从自定义路径加载SAM模型
- **输入**: 模型完整路径、使用缓存选项等
- **输出**: SAM模型(SAM_MODEL)、模型信息(model_info)
- **适用场景**: 使用指定路径的SAM模型文件

### 🤖 魔搭API模型选择器-【新】  (ModelscopeApiSelector)
- **位置**: `XnanTool/预设`
- **功能**: 选择魔搭API模型
- **输入**: 模型名称
- **输出**: 模型名称(model_name)
- **适用场景**: 从预设列表中选择魔搭API模型

### 🤖 魔搭API列表管理-【新】  (ModelscopeApiManager)
- **位置**: `XnanTool/预设`
- **功能**: 管理魔搭API模型列表
- **输入**: 操作类型、模型ID、显示名称、要删除的模型等
- **输出**: 状态信息(status_message)
- **适用场景**: 添加、删除或查看魔搭API模型列表

### 🧠 YOLO+SAM背景去除-【新】 (YoloSamBackgroundRemovalNode)
- **位置**: `XnanTool/SAM`
- **功能**: 使用YOLO目标检测和SAM分割技术进行精确的背景去除和裁剪
- **输入**: YOLO模型、SAM模型、图像、检测类别、选择模式等
- **输出**: 裁剪图像、前景遮罩、处理信息
- **适用场景**: 需要精确背景去除和智能裁剪的图像处理任务

## 📖 使用指南

### 📏 尺寸选择器使用
1. 在节点菜单中找到 `XnanTool/预设` -> `尺寸预设-【新】`
2. 选择需要的尺寸预设（如 SDXL 正方形、横屏等）
3. 将输出的宽度和高度连接到其他需要尺寸参数的节点
4. 完成！🎉

### 🎨 魔搭API文生图使用
1. 🔑 获取魔搭 API Token
2. 📝 在节点中输入提示词、API Token、选择基础模型和 LoRA 模型
3. ⚙️ 调整其他可选参数（负面提示词、尺寸、种子、步数、引导系数、LoRA 权重等）
4. ▶️ 执行节点生成图像
5. 🎉 欣赏你的创作！

### 🚀 YOLO目标检测使用
1. 在节点菜单中找到 `XnanTool/YOLO` 目录
2. 根据需要选择合适的模型加载器：
   - `YOLO模型加载器 (v8预设)-【新】`：使用预设的YOLOv8模型
   - `YOLO模型加载器V2(本地模型)-【新】`：使用本地存储的YOLO模型文件
   - `YOLO模型加载器(自定义路径)-【新】`：使用指定路径的YOLO模型文件
3. 配置模型参数（置信度阈值、IOU阈值等）
4. 将加载的模型连接到 `YOLO检测与裁剪一体化-【新】` 节点
5. 连接输入图像并配置检测参数
6. 执行节点进行目标检测和图像裁剪

### 🧠 SAM模型使用
1. 在节点菜单中找到 `XnanTool/SAM` 目录
2. 根据需要选择合适的模型加载器：
   - `SAM模型加载器（预设）`：使用预设的SAM模型
   - `SAM模型加载器V2 (本地模型)`：使用本地存储的SAM模型文件
   - `SAM模型加载器(自定义路径)`：使用指定路径的SAM模型文件
3. 配置模型参数（自动下载、使用缓存等）
4. 加载模型后可用于图像分割任务

### 🤖 魔搭API模型管理使用
1. 在节点菜单中找到 `XnanTool/预设` -> `魔搭API列表管理`
2. 选择操作类型：
   - `list`：查看当前所有可用模型
   - `add`：添加新的魔搭API模型到预设列表中
   - `delete`：删除已有的魔搭API模型
3. 根据操作类型填写相应的参数
4. 执行节点查看操作结果
5. 注意：添加或删除模型后需重启ComfyUI才能在选择器中看到变化

## 🧰 支持的模型

### 内置支持的基础模型
- 🔮 **Qwen-Image**
- ⚡ **FLUX.1-schnell**
- 🚀 **FLUX.1-Krea-dev**
- 🎨 **SDXL 1.0**
- 🌟 **Segmind-Vega**
- 🖌️ **Qwen-Image-Edit**
- ✨ **SDXL Refiner**
- 🔧 **SD Inpainting**

### 支持的YOLO模型
- **YOLOv8n** (轻量型)
- **YOLOv8s** (小型)
- **YOLOv8m** (中型)
- **YOLOv8l** (大型)
- **YOLOv8x** (超大型)
- 支持自定义YOLO模型添加

### 尺寸预设列表
#### 🎯 SD 1.5 推荐尺寸
- `512x512` (1:1) - 基础正方形
- `512x768` (2:3) - 竖屏比例
- `768x512` (3:2) - 横屏比例
- `768x768` (1:1) - 大正方形

#### 🚀 SDXL 推荐尺寸
- `1024x1024` (1:1) - 标准正方形
- `1152x896` (4:3) - 经典竖屏
- `896x1152` (3:4) - 经典横屏

#### 🎨 Qwen-Image 推荐尺寸
- `1328x1328` (1:1) - 优化正方形
- `1664x928` (16:9) - 宽屏横屏
- `928x1664` (9:16) - 宽屏竖屏
- `1472x1140` (4:3) - 经典横屏
- `1140x1472` (3:4) - 经典竖屏
- `1584x1056` (3:2) - 电影横屏
- `1056x1584` (2:3) - 电影竖屏

#### ⚡ Flux 推荐尺寸
- `2048x2048` (1:1) - 超高清正方形

## ⚙️ 配置文件
- `config.json` - 存储默认参数配置
- `model_presets.json` - 存储模型预设列表
- `.modelscope_api_token` - 存储 API 令牌（可选）
- `image_video_prompt_presets.json` - 存储图片视频提示词预设

## ⚠️ 注意事项
1. ⚠️ 添加新模型后需要重启 ComfyUI 才能在选择器中看到
2. 🔑 使用 LoRA 功能需要有效的魔搭 API Token
3. 📋 模型 ID 格式为：`用户名/模型名`（如：`Qwen/Qwen-Image`）
4. 🌐 生成图像时可能受网络状况影响，请确保网络连接稳定
5. 💡 如有问题，请检查日志文件获取详细信息
6. 🔄 添加或删除预设后需要重启ComfyUI才能在选择器中看到变化
7. 📁 图像预览文件保存在插件目录的 `nodes/image_video_prompt_presets_node` 文件夹中

---



</details>

<details>
<summary>v0.0.1 - 初始版本发布</summary>

## 🎉 初始版本发布

这是 comfyui-xnantool 的第一个正式版本，为 ComfyUI 用户提供了强大的 AI 图像生成和编辑功能。

## 📅 发布日期
2025年10月4日

## ✨ 主要功能特性

### 🤖 modelscope-魔搭社区API集成
- 📚 支持多种常用大模型
- 🔧 配置自动保存，方便下次使用

### 🎨 LoRA 模型调用
- 🚀 支持多种基础模型的文生图功能
- 🎭 集成 LoRA 模型加载和权重调整，无需下载
- 🌐 通过魔搭 API 调用模型，参数灵活自定义
- 🎯 精准控制生成效果，满足个性化需求

## 📋 新增节点

### 🎨 文生图节点 (modelscopeLoraTextToImageNode)
- **位置**: `modelscope_api`
- **功能**: 通过魔搭 API 调用支持 LoRA 的文生图模型
- **输入**: 提示词、API 令牌、基础模型、LoRA 模型等
- **输出**: 生成的图像(image)
- **适用场景**: 快速生成带有 LoRA 风格的图像

### 🎨 图像编辑节点 (modelscopeLoraImageEditNode)
- **位置**: `modelscope_api`
- **功能**: 通过魔搭 API 调用支持 LoRA 的图像编辑模型
- **输入**: 图像、编辑提示词、API 令牌、基础模型、LoRA 模型等
- **输出**: 编辑后的图像(edited_image)
- **适用场景**: 编辑现有图像并应用LoRA风格，实现图像内容修改和风格转换

## 🧰 支持的模型

### 内置支持的基础模型

#### 文生图模型
- 🔮 **Qwen-Image**
- ⚡ **FLUX.1-schnell**
- 🚀 **SD3 Medium**
- 🌟 **Segmind-Vega**
- 🎨 **SDXL 1.0**

#### 图像编辑模型
- 🖌️ **Qwen-Image-Edit**
- ✨ **SDXL Refiner**
- 🔧 **SD Inpainting**

## ⚙️ 配置文件
- `config.json` - 存储默认参数配置
- `.modelscope_api_token` - 存储 API 令牌（可选）

## ⚠️ 注意事项
1. 🔑 使用功能需要有效的魔搭 API Token
2. 📋 模型 ID 格式为：`用户名/模型名`（如：`Qwen/Qwen-Image`）
3. 🌐 生成图像时可能受网络状况影响，请确保网络连接稳定
4. 💡 如有问题，请检查日志文件获取详细信息

### 标签
#ComfyUI #AI绘画 #图像生成 #SDXL #Qwen #LoRA #工具插件 #AI创作

</details>